<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:base="https://incubator.to">
  <title>incubator.to - Tit Petric</title>
  <subtitle>Blogging general thoughts and rambles, code snippets, and front-end web dev discoveries</subtitle>
  <link href="https://incubator.to/feed.xml" rel="self"/>
  <link href="https://incubator.to"/>
  <updated>2025-10-11T00:00:00Z</updated>
  <id>https://incubator.to</id>
  <author>
    <name>Tit Petric</name>
    <email>me@titpetric.com</email>
  </author>
  <entry>
    <title>Transition to the Other Side with Container Query Units</title>
    <link href="https://incubator.to/blog/transition-to-the-other-side"/>
    <updated>2025-10-11T00:00:00Z</updated>
    <id>https://incubator.to/blog/transition-to-the-other-side</id>
    <content xml:lang="" type="html">

Managing the position of an element as it travels across the length of its parent container can be tricky. Assuming they both have dynamic, responsive dimensions, we might rely on JS to check the width and/or height of each element and do some calculations for a proper end result. The classic [FLIP technique](/blog/gsap-flip-cart/) has proven to be a solid solution in the past. For a modern approach, the [View Transition API](https://developer.mozilla.org/en-US/docs/Web/API/View_Transition_API) can also work well here.

I now realize there&#39;s a much simpler approach using [container query units](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_containment/Container_queries#container_query_length_units) and a dash of CSS wizardry.

## The demo

Select the `container query units` option if it&#39;s not already, then click and hold the container to witness the magic. Try changing the element dimensions or resizing the parent container using its handle on the bottom right.

{% codepen &#34;https://codepen.io/hexagoncircle/pen/gbPxYaW&#34; %}

[Jump down to the solution](#the-solution) if you&#39;d like to get right into it. Otherwise, join me on a transformative journey to this final result.

## Transition exploration

The following CSS will transition an element smoothly to the right when its parent container is pressed:

```scss
.element {
  transition: transform 200ms ease-out;
}

.parent:active .element {
  transform: translateX(100%);
}
```

Individual transform properties are also available and well supported in modern browsers. I tend to use them more frequently when writing simple transforms like this. In the demo, we&#39;ll find the [`translate` property](https://developer.mozilla.org/en-US/docs/Web/CSS/translate) is being transitioned. Let&#39;s update the above code example to something similar:

```scss
.element {
  transition: translate 200ms ease-out;
}

.parent:active .element {
  translate: 100%;
}
```

Keep in mind that there&#39;s a pre-defined order for independent transform properties. Stefan&#39;s article explains [the fundamental differences between transform functions and individual transforms](https://www.stefanjudis.com/blog/order-in-css-transformation-transform-functions-vs-individual-transforms/). Not an issue with our current examples, but something to remember when multiple individual transforms are being applied.
{.callout}

Check out [the demo](#the-demo) with `x` checked and the `percentage` option selected. When we click and hold the container, the element transitions the width of itself to the right. We can see that this percentage is based on the element&#39;s dimensions. While handy, it doesn&#39;t achieve our goal of moving the element all the way to the opposite side.

### Explicit dimensions

If we knew the exact dimensions of the parent container, we could declare a `calc()` function where the element&#39;s full percentage is subtracted from the explicit parent size.

```scss
.parent {
  width: 300px;
}

.element {
  transition: translate 200ms ease-out;
}

.parent:active .element {
  translate: calc(300px - 100%);
}
```

It works, but it&#39;s uncommon to have explicit dimensions declared like that. Our elements need to be flexible and responsive in any context. What can we do instead?

### Position properties

Properties like `top` and `left` are available to us. Could we transition the element by doing something like this?

```scss
.element {
  position: relative;
  left: 0;
  transition: 200ms ease-out;
  transition-property: translate, left;
}

.parent:active .element {
  left: 100%;
  translate: -100%;
}
```

Seems that we can, at least in the context of the demo. However, animating position properties has a negative impact on layout and creates performance issues. The browser works harder to recalculate element positions, repaint pixels, and then composite the result. This inevitably leads to janky or sluggish animations. GPU-accelerated properties such as  `transform` and `translate` avoid triggering repaints so animations run buttery-smooth and fluid.

Fair enough. We&#39;ll focus on moving the element using transform properties. It&#39;s time to reveal the strongest solution.

## The solution

In the demo&#39;s controls, check that `container query units` is selected. Click and hold the container. Watch as the element smoothly transitions to the opposite side of the parent container. Try changing the element dimensions using the sliders, or resize the parent with the resize handle on its bottom right. It _still_ works!

Here&#39;s the gist when we only need to transition to the opposite side of the parent horizontally.

```scss
.parent {
  container-type: inline-size;
}

.element {
  transition: translate 200ms ease-out;
}

.parent:active .element {
  translate: calc(100cqi - 100%);
}
```

If we want to transition vertically or in both directions, we&#39;ll need the `size` value for our [`container-type`](https://developer.mozilla.org/en-US/docs/Web/CSS/container-type) so that containment is applied to the block and inline directions. The example below translates the element along the y-axis.

```scss
.parent {
  container-type: size;
}

.element {
  transition: translate 200ms ease-out;
}

.parent:active .element {
  translate: 0 calc(100cqb - 100%);
}
```

By setting a `container-type` on the parent, the element is able to access the parent size via [container query length units](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_containment/Container_queries#container_query_length_units):

- `1cqi` is 1% of the inline size.
- `1cqb` is 1% of the block size.

Notice that we&#39;re using logical properties instead of physical ones. If this isn&#39;t familiar territory, I recommend Ahmad&#39;s excellent [Digging Into CSS Logical Properties](https://ishadeed.com/article/css-logical-properties/) article to learn more.
{.callout}

`100cqi` is the full inline size of the parent container. We can recall from earlier that a transform percentage reflects the element&#39;s dimensions. Once we subtract `100%` from that container query unit, the element can gracefully transition to its proper position on the opposite side of the container.

Take a moment to enjoy the wonder and magic that is modern CSS.

## Helpful resources

- [Container Queries and Units](https://frontendmasters.com/blog/container-queries-and-units/)
- [How to create high-performance CSS animations](https://web.dev/articles/animations-guide)
- [Order in CSS transformations ‚Äì transform functions vs individual transforms](https://www.stefanjudis.com/blog/order-in-css-transformation-transform-functions-vs-individual-transforms/)
- [Digging Into CSS Logical Properties](https://ishadeed.com/article/css-logical-properties/)</content>
  </entry>
  <entry>
    <title>Blog Questions Challenge</title>
    <link href="https://incubator.to/blog/blog-questions-challenge-2025"/>
    <updated>2025-03-25T00:00:00Z</updated>
    <id>https://incubator.to/blog/blog-questions-challenge-2025</id>
    <content xml:lang="" type="html">

Hey there.

It has been a minute since my last post. I was semi-recently [tagged by Zach Leatherman](https://www.zachleat.com/web/blogging/) to (optionally) participate in this year&#39;s _Blog Questions Challenge_. I had planned on doing it then. But life really hit hard as we entered this year and it has not let up. Energy dedicated to my personal webspace has been non-existent. I am tired. Hopefully this post can help shake off some of the rust, bring me back to writing and sharing with you lovely folks.

I won&#39;t be tagging anyone to do this challenge. However, if you&#39;re inspired to write your own after reading mine, I&#39;d love for you to share it with me.

## Why did you start blogging in the first place?

Blogging has always been a part of my web experience. Earliest I can remember is building my band a [GeoCities](https://en.wikipedia.org/wiki/GeoCities) website back in high school. I&#39;d share short passages about new song ideas, how last night&#39;s show went, stuff like that. I also briefly had a [Xanga blog](https://en.wikipedia.org/wiki/Xanga) running. My memory is totally faded on what exactly I wrote in there‚ÄîI&#39;m not eager to dig up high school feelings either‚Äîbut fairly certain all of those entries are just lost digital history. Having an &#34;online journal&#34; was such a fresh idea at the time. Sharing felt more natural and real before the social media platforms took over. [_blows raspberry_] I&#39;ve completely dated myself and probably sound like [&#34;old man yells at cloud&#34;](https://knowyourmeme.com/memes/old-man-yells-at-cloud) right now.

Anyway, I pretty much stopped blogging for a while after high school. I turned my efforts back to pen on paper, keeping journals of lyrics, thoughts, and feelings mostly to myself. My dev-focused blogging that you may be familiar with really only spans the last decade, give or take a couple years. 

## What platform are you using to manage your blog and why?

At the moment and the foreseeable future, I&#39;m using [11ty](https://www.11ty.dev/). I published a short post about [migrating my site to 11ty](https://ryanmulligan.dev/blog/migrating-to-11ty/) back in 2021. I still feel the same sentiments and still admire those same people. And many new community friends as well!

## Have you blogged on other platforms before?

I&#39;ve definitely used WordPress but I can&#39;t remember what the heck I was even blogging about during that time. Then I switched to just writing posts directly in HTML files and FTP&#39;ing them up to some server somewhere. Pretty silly in retrospect, but boy did I feel alive.

## How do you write your posts?

Always via laptop, never on my phone. I manage posts in markdown files, push them up to a GitHub repo and let that automatically redeploy my site on Netlify. Editing content is done in VSCode. I&#39;ve debated switching to some lightweight CMS, connecting to Notion or Obsidian, but why introduce any more complexity and mess with what works fine for me?

## When do you feel most inspired to write?

Typically I&#39;ll write up a post about something new I discovered while on my wild coding escapades, whether it&#39;s solving an issue at work or exploring new web features in my free time. If I have trouble finding solutions to my particular problem on the world wide net, I&#39;m even more inclined to post about it. Most of my ideas are pursued on weekends, but I&#39;ve had some early morning or late night weekday sessions.

What I&#39;m trying to say is that anytime is a good time for blogging. It&#39;s like pizza when it&#39;s on a bagel.

## Do you publish immediately after writing, or do you let it simmer a bit as a draft?

It depends. If I had been writing for a long period of time, I find it best to take a breather before publishing. When I feel ready, I&#39;ll post and share with a small group for feedback, find grammatical errors. Then I eventually add it to whatever social channels feel right. Used to be Twitter, but straight up screw that garbage temple. I&#39;ll likely post on [Bluesky](https://bsky.app/profile/ryanmulligan.dev), toot on [Mastodon](https://fosstodon.org/@hexagoncircle). Other times I&#39;ll slap a new post on this site and not share it on any socials. Let the RSS feeds do their magic.

## What&#39;s your favorite post on your blog?

I don&#39;t know if I have a favorite. Can I love them all equally? Well, besides that CSS Marquee one. Damn that blog post for becoming so popular.

## Any future plans for your blog?

Once things settle down in life, I think I&#39;ll be ready for a redesign. I had a blast building the [current version inspired by Super Mario Wonder](https://ryanmulligan.dev/blog/site-rebuild/). Until then? More blogging. It won&#39;t be super soon, but I do have a few zesty article ideas percolating in this old, tired brain.</content>
  </entry>
  <entry>
    <title>Some Things About Keyframes</title>
    <link href="https://incubator.to/blog/some-things-about-keyframes"/>
    <updated>2024-12-30T00:00:00Z</updated>
    <id>https://incubator.to/blog/some-things-about-keyframes</id>
    <content xml:lang="" type="html">

Whether you&#39;ve barely scratched the surface of keyframe animations in CSS or fancy yourself a seasoned pro, I suggest reading [An Interactive Guide to Keyframe Animations](https://www.joshwcomeau.com/animation/keyframe-animations/). Josh (as always) does an impeccable deep dive that includes interactive demos for multi-step animations, loops, setting dynamic values, and more.

This is a quick post pointing out some other minor particulars:

1. Duplicate keyframe properties
2. The order of keyframe rules
3. Custom timing function (easing) values at specific keyframes

## Duplicate keyframe properties

Imagine an &#34;appearance&#34; animation where an element slides down, scales up, and changes color. The starting `0%` keyframe sets the element&#39;s y-axis offset position and scales down the size. When the animation is triggered, the element glides up from the offset to its central position for the full duration of the animation. About halfway through, the element&#39;s size begins scaling back up and the background color changes. At first, we might be tempted to duplicate the `background-color` and `scale` properties in both `0%` and `50%` keyframe blocks.

```css
@keyframes animate {
  0% {
    background-color: red;
    scale: 0.5;
    translate: 0 100%;
  }
  50% {
    background-color: red;
    scale: 0.5;
  }
  100% {
    background-color: green;
    scale: 1;
    translate: 0 0;
  }
}
```

Although this functions correctly, it requires us to manage the same property declarations in two locations. Instead of repeating, we can share them in a comma-separated ruleset.

```css
@keyframes animate {
  0% {
    translate: 0 100%;
  }
  0%, 50% {
    background-color: red;
    scale: 0.5;
  }
  100% {
    background-color: green;
    scale: 1;
    translate: 0 0;
  }
}
```

## Keyframe rules order

Another semi-interesting quirk is that we can rearrange the keyframe order.

```css
@keyframes animate {
  0% {
    translate: 0 100%;
  }
  100% {
    background-color: green;
    scale: 1;
    translate: 0 0;
  }
  /* Set and hold values until halfway through animation */
  0%, 50% {
    background-color: red;
    scale: 0.5;
  }
}
```

Just for kicks, here is a version that swaps `0%` and `100%` for their corresponding `from` and `to` keyword values.

```css
@keyframes animate {
  from {
    translate: 0 100%;
  }
  to {
    background-color: green;
    scale: 1;
    translate: 0 0;
  }
  /* Set and hold values until halfway through animation */
  from, 50% {
    background-color: red;
    scale: 0.5;
  }
}
```

The [&#34;Resolving Duplicates&#34;](https://developer.mozilla.org/en-US/docs/Web/CSS/@keyframes#resolving_duplicates) section from the MDN docs mentions that `@keyframes` rules do not cascade, which explains why this order still returns the expected animation. Customizing the order could be useful for grouping property changes within a `@keyframes` block as an animation becomes more complex.

That same section of the MDN docs also points out that cascading _does_ occur when multiple keyframes define the same percentage values. So, in the following `@keyframes` block, the second `translate` declaration overrides the first.

```css
@keyframes animate {
  to {
    translate: 0 100%;
    rotate: 1turn;
  }
  to {
    translate: 0 -100%;
  }
}
```

## Keyframe-specific easing

Under [&#34;Timing functions for keyframes&#34;](https://www.w3.org/TR/css-animations-1/#timing-functions) from the CSS Animations Level 1 spec, we discover that easing can be adjusted within a keyframe ruleset.

&gt; A keyframe style rule may also declare the timing function that is to be used as the animation moves to the next keyframe.

Toggle open the CSS panel in the ensuing CodePen demo and look for the `@keyframes` block. Inside one of the percentages, a custom easing is applied using the [`linear()` CSS function](https://developer.mozilla.org/en-US/docs/Web/CSS/easing-function/linear) to give each element some wobble as it lands.

{% codepen &#34;https://codepen.io/hexagoncircle/pen/yyBozpm&#34;, &#34;500&#34; %}

I think that looks quite nice! Adding keyframe-specific easing brings an extra layer of polish and vitality to our animations. One minor snag, though: We can&#39;t set a CSS variable as an `animation-timing-function` value. This unfortunately means we&#39;re unable to access shared custom easing values, say from a library or design system.

```css
:root {
  --easeOutCubic: cubic-bezier(0.33, 1, 0.68, 1);
}

@keyframes {
  50% {
    animation-timing-function: var(--easeOutCubic);
  }
}
```

## Helpful resources

- [An Interactive Guide to Keyframe Animations](https://www.joshwcomeau.com/animation/keyframe-animations/)
- [@keyframes on MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/@keyframes)
- [Easing Functions Cheat Sheet](https://easings.net/)
- [Linear easing generator](https://linear-easing-generator.netlify.app/)
- [The Path To Awesome CSS Easing With The `linear()` Function](https://www.smashingmagazine.com/2023/09/path-css-easing-linear-function/)</content>
  </entry>
  <entry>
    <title>Scrolling Rails and Button Controls</title>
    <link href="https://incubator.to/blog/scrolly-rail"/>
    <updated>2024-12-23T00:00:00Z</updated>
    <id>https://incubator.to/blog/scrolly-rail</id>
    <content xml:lang="" type="html">

Once again, here I am, hackin&#39; away on horizontal scroll ideas. This iteration starts with a custom HTML tag. All the necessities for scroll overflow, scroll snapping, and row layout are handled with CSS. Then, as a little progressive enhancement treat, `button` elements are connected that scroll the previous or next set of items into view when clicked.

Behold! The holy grail of scrolling rails... the `scrolly-rail`!

- [CodePen demo](https://codepen.io/hexagoncircle/full/yyBMGrL)
- [GitHub repo](https://github.com/hexagoncircle/scrolly-rail)

{% codepen &#34;https://codepen.io/hexagoncircle/pen/yyBMGrL&#34; %}

I&#39;m being quite facetious about the &#34;holy grail&#34; part, if that&#39;s not clear. üòÖ This is an initial try on an idea I&#39;ll likely experiment more with. I&#39;ve shared some thoughts on potential [future improvements](#future-improvements) at the end of the post. On top of that, after I began experimenting, I discovered the possibility of [CSS Carousels](https://nerdy.dev/css-wishlist-2025#css-carousel). If those scroll enhancing features become a cross browser standard, then we&#39;ll be able to generate scroll buttons and more, all with CSS. That&#39;s a _lot_ of power.

With all of that out of the way, let&#39;s explore!

## The HTML

Wrap any collection of items with the custom tag:

```html
&lt;scrolly-rail&gt;
  &lt;ul&gt;
    &lt;li&gt;1&lt;/li&gt;
    &lt;li&gt;2&lt;/li&gt;
    &lt;li&gt;3&lt;/li&gt;
    &lt;!-- and so on--&gt;
  &lt;/ul&gt;
&lt;/scrolly-rail&gt;
```

While it is possible to have items without a wrapper element, if the custom element script runs and button controls are connected, _sentinel_ elements are inserted at the start and end bounds of the scroll container. Wrapping the items makes controlling spacing between them much easier, avoiding any undesired gaps appearing due to these sentinels. We&#39;ll discover [what the sentinels are for](#observing-inline-scroll-bounds) later in the post.
{.callout}

## The CSS

Here are the main styles for the component:

```scss
scrolly-rail {
  display: flex;
  overflow-x: auto;
  overscroll-behavior-x: contain;
  scroll-snap-type: x mandatory;

  @media (prefers-reduced-motion: no-preference) {
    scroll-behavior: smooth;
  }
}
```

- When JavaScript is enabled, sentinel elements are inserted before and after the unordered list (`ul`) element in the HTML example above. Flexbox ensures that the sentinels are positioned on either side of the element. We&#39;ll find out why later in this post.
- Containing the [overscroll behavior](https://developer.mozilla.org/en-US/docs/Web/CSS/overscroll-behavior#contain) will prevent us accidentally triggering browser navigation when scrolling beyond either edge of the `scrolly-rail` container.
- [`scroll-snap-type`](https://developer.mozilla.org/en-US/docs/Web/CSS/scroll-snap-type) enforces mandatory scroll snapping.
- Smooth scrolling behavior applies when items scroll into view on button click, or if interactive elements (links, buttons, etc.) inside items overflowing the visible scroll area are focused.

Any wrapper element, such as the example `ul`, will need a flex display to position items in a single row and introduce gap spacing if desired. Then [`scroll-snap-align: start`](https://developer.mozilla.org/en-US/docs/Web/CSS/scroll-snap-align) is applied to each item. This aligns the targeted snap item to the inline start of the component&#39;s scroll snap area. In the HTML example, this would apply to the `li` elements.

```scss
scrolly-rail ul {
  display: flex;
  gap: 1rem;
}

scrolly-rail li {
  scroll-snap-align: start;
}
```

As mentioned earlier, this is everything our component needs for layout, inline scrolling, and scroll snapping. Note that the [CodePen demo](https://codepen.io/hexagoncircle/pen/yyBMGrL) takes it a step further with some additional padding and margin styles (check out the demo CSS panel). If we&#39;d like to wire up previous/next controls, we&#39;ll need to include the custom element script in our HTML.

## The custom element script

Add the script file on the page.

```html
&lt;script type=&#34;module&#34; src=&#34;scrolly-rail.js&#34;&gt;&lt;/script&gt;
```

To connect the previous/next `button` elements, give each an `id` value and add these values to the `data-control-*` attributes on the custom tag.

```html
&lt;scrolly-rail
  data-control-previous=&#34;btn-previous&#34;
  data-control-next=&#34;btn-next&#34;
&gt;
  &lt;!-- ... --&gt;
&lt;/scrolly-rail&gt;

&lt;button id=&#34;btn-previous&#34; class=&#34;btn-scrolly-rail&#34;&gt;Previous&lt;/button&gt;
&lt;button id=&#34;btn-next&#34; class=&#34;btn-scrolly-rail&#34;&gt;Next&lt;/button&gt;
```

Now clicking these buttons will pull the previous or next set of items into view. The amount of items to scroll by is based on how many are fully visible in the scroll container. For example, if we see three visible items, clicking the &#34;next&#34; button will scroll the subsequent three items into view.

### Observing inline scroll bounds

Let&#39;s review the demo&#39;s top component. As we begin to scroll to the right, the &#34;previous&#34; button appears. Scrolling to the component&#39;s end causes the &#34;next&#34; button to disappear. Similarly we can see the bottom component&#39;s buttons fade when their respective scroll bound is reached.

Recall the sentinels discussed earlier in this post? With a little help from the [Intersection Observer API](https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API), the component watches for either sentinel intersecting the visible scroll area, indicating that we&#39;ve reached a boundary. When this happens, a `data-bound` attribute is toggled on the corresponding `button` element. This presents an opportunity to alter styles and provide additional visual feedback.

```scss
.btn-scrolly-rail {
  /** default styles */
}

.btn-scrolly-rail[data-bound] {
  /* styles to apply to button at boundary */
}
```

## Future improvements

I&#39;d love to hear from the community most specifically on improving the accessibility story here. Here are some general notes:

- I debated if button clicks should pass feedback to screen readers such as &#34;Scrolled next three items into view&#34; or &#34;Reached scroll boundary&#34; but felt unsure if that created unforeseen confusion.
- For items that contain interactive elements: If a new set of items scroll into view and a user tabs into the item list, should the initial focusable element start at the snap target? This could pair well with [navigating the list using keyboard arrow keys](https://codepen.io/hexagoncircle/pen/LYawJVP).
- Is it worth authoring intersecting sentinel &#34;enter/leave&#34; events that we can listen for? Something like: Scroll bound reached? Do a thing. Leaving scroll bound? Revert the thing we just did or do another thing. _Side note:_ prevent these events from firing when the component script initializes.
- How might this code get refactored once [scroll snap events](https://developer.chrome.com/blog/scroll-snap-events) are widely available? I imagine we could check for when the first or last element becomes the snap target to handle toggling `data-bound` attributes. Then we can remove Intersection Observer functionality.

And if any folks have other scroll component solutions to share, please reach out or [open an issue](https://github.com/hexagoncircle/scrolly-rail/issues) on the repo.</content>
  </entry>
  <entry>
    <title>The Shape of Runs to Come</title>
    <link href="https://incubator.to/blog/the-shape-of-runs-to-come"/>
    <updated>2024-12-08T00:00:00Z</updated>
    <id>https://incubator.to/blog/the-shape-of-runs-to-come</id>
    <content xml:lang="" type="html">

Over the last few months or so, I have been fairly consistent with getting outside for Sunday morning runs. A series of lower body issues had prevented me from doing so for many years, but it was an exercise I had enjoyed back then. It took time to rebuild that habit and muscle but I finally bested the behavior of doing so begrudgingly.

Back in the day (what a weird phrase to say, how old am I?) I would purchase digital copies of full albums. I&#39;d use my run time to digest the songs in the order the artist intended. Admittedly, I&#39;ve become a lazy listener now, relying on streaming services to surface playlists that I mindlessly select to get going. I want to be better than that, but that&#39;s a story for another time.

These days, my mood for music on runs can vary: Some sessions I&#39;ll pop in headphones and throw on some tunes, other times I head out free of devices (besides a watch to track all those sweet, sweaty workout stats) and simply take in the city noise.

Before I headed out for my journey this morning, a friend shared a track from [an album of song covers](https://refused.bandcamp.com/album/the-shape-of-punk-to-come-obliterated) in tribute to The Refused&#39;s _[The Shape Of Punk To Come](https://refused.bandcamp.com/album/the-shape-of-punk-to-come)_. The original is a treasured classic, a staple LP from my younger years, and I can still remember the feeling of the first time it struck my ears. Its magic is reconjured every time I hear it. When that reverb-soaked feedback starts on [Worms of the Senses / Faculties of the Skull](https://refused.bandcamp.com/track/worms-of-the-senses-faculties-of-the-skull), my heart rate begins to ascend. The anticipation builds, my entire body well aware of the explosion of sound imminent. As my run began, I wasn&#39;t sure if I had goosebumps from the morning chill or the wall of noise about to ensue. My legs were already pumping. I was fully present, listening intently, ready for the blast. The sound abruptly detonated sending me rocketing down the street towards the rising sun.

My current running goal is _4-in-40_, traversing four miles under forty minutes. I&#39;m certainly no Prefontaine, but it&#39;s a fair enough objective for my age and ability. I&#39;ll typically finish my journey in that duration or slightly spill over the forty-minute mark. Today was different. Listening to _The Shape Of Punk To Come_ sent me cruising an extra quarter mile beyond the four before my workout ended. The unstoppable energy from that album is truly pure runner&#39;s fuel.

There&#39;s certainly some layer of nostalgia, my younger spirit awakened and reignited by thrashing guitars and frantic rhythms, but many elements and themes on this record were so innovative at the time it was released. [New Noise](https://refused.bandcamp.com/track/new-noise) is a prime example that executes the following feeling flawlessly: Build anticipation, increase the energy level, and then right as the song seems prepped to blast off, switch to something unexpected. In this case, the guitars drop out to make way for some syncopated celestial synths layered over a soft drum rhythm. The energy sits in a holding pattern, unsure whether it should burst or cool down, when suddenly‚Äî

&gt; Can I scream?!

Oh my goodness, yes. Yes you can. I quickly morphed into a runner decades younger. I had erupted, my entire being barreling full speed ahead. The midpoint of this track pulls out the same sequence of build up, drop off, and teasing just long enough before unleashing another loud burst of noise, driving to its explosive outro. As the song wraps up, &#34;The New Beat!&#34; is howled repeatedly to a cheering crowd that, I would imagine, had not been standing still.

I definitely needed a long stretch after this run.</content>
  </entry>
  <entry>
    <title>The Pixel Canvas Shimmer Effect</title>
    <link href="https://incubator.to/blog/pixel-canvas"/>
    <updated>2024-12-03T00:00:00Z</updated>
    <id>https://incubator.to/blog/pixel-canvas</id>
    <content xml:lang="" type="html">

I recently stumbled on a super cool, well-executed hover effect from the [clerk.com](https://clerk.com/) website where a bloom of tiny pixels light up, their glow staggering from the center to the edges of its container. With some available free time over this Thanksgiving break, I hacked together my own version of a pixel canvas background shimmer. It quickly evolved into a `pixel-canvas` Web Component that can be enjoyed in the demo below. The component script and demo code have also been pushed up to a [GitHub repo](https://github.com/hexagoncircle/pixel-canvas).

{% codepen &#34;https://codepen.io/hexagoncircle/pen/KwPpdBZ&#34; %}

## Usage

Include the component script and then insert a `pixel-canvas` custom element inside the container it should fill.

```html
&lt;script type=&#34;module&#34; src=&#34;pixel-canvas.js&#34;&gt;&lt;/script&gt;

&lt;div class=&#34;container&#34;&gt;
  &lt;pixel-canvas&gt;&lt;/pixel-canvas&gt;
  &lt;!-- other elements --&gt;
&lt;/div&gt;
```

The `pixel-canvas` stretches to the edges of the parent container. When the parent is hovered, glimmering pixel fun ensues.

## Options

The custom element has a few optional attributes available to customize the effect. Check out the CodePen demo&#39;s html panel to see how each variation is made.

- `data-colors` takes a comma separated list of color values.
- `data-gap` sets the amount of space between each pixel.
- `data-speed` controls the general duration of the shimmer. This value is slightly randomized on each pixel that, in my opinion, adds a little more character.
- `data-no-focus` is a boolean attribute that tells the Web Component to not run its animation whenever sibling elements are focused. The animation runs on sibling focus by default.

There&#39;s likely more testing and tweaking necessary before I&#39;d consider using this anywhere, but my goal was to run with this inspiration simply for the joy of coding. What a mesmerizing concept. I tip my hat to the creative engineers over at Clerk.</content>
  </entry>
  <entry>
    <title>Web Components for Password Input Enhancements</title>
    <link href="https://incubator.to/blog/password-input-components"/>
    <updated>2024-09-20T00:00:00Z</updated>
    <id>https://incubator.to/blog/password-input-components</id>
    <content xml:lang="" type="html">

So there I was, experimenting with HTML password inputs and Web Components. I&#39;m not sure why the idea even came up but it quickly snowballed into a curious expedition. The result from the journey was a set of custom elements that provide extra functionality and information about the text being typed into a password input field. I shared my [CodePen demo](https://codepen.io/hexagoncircle/pen/LYKKjmj) in a [Mastodon post](https://fosstodon.org/@hexagoncircle/113164872411660242) and soon after decided to push these scripts up to a [GitHub repo](https://github.com/hexagoncircle/password-input-components).

{% codepen &#34;https://codepen.io/hexagoncircle/pen/LYKKjmj&#34; 450 %}

## Get started

The repo includes two Web Component scripts. They operate independent of one another. I recommend reading through [the repo documentation](https://github.com/hexagoncircle/password-input-components/blob/main/README.md) but here&#39;s a rundown of what&#39;s included.

- `&lt;password-rules&gt;` adds an `input` event listener to capture when a list of rules (password length, includes an uppercase letter, etc.) are matched as the user is typing in their new password.
- `&lt;password-toggle&gt;` shows and hides the password input value on click.

To get started, add the scripts to a project and include them on the page.

```html
&lt;script type=&#34;module&#34; src=&#34;path/to/password-rules.js&#34;&gt;&lt;/script&gt;
&lt;script type=&#34;module&#34; src=&#34;path/to/password-toggle.js&#34;&gt;&lt;/script&gt;
```

Below is an example of using both custom elements with a password input.

```html
&lt;label for=&#34;new-password&#34;&gt;Password&lt;/label&gt;
&lt;input type=&#34;password&#34; id=&#34;new-password&#34; /&gt;
&lt;div id=&#34;status&#34; aria-live=&#34;polite&#34;&gt;&lt;/div&gt;

&lt;password-toggle data-input-id=&#34;new-password&#34; data-status-id=&#34;status&#34;&gt;
  &lt;button type=&#34;button&#34;&gt;Toggle password visibility&lt;/button&gt;
&lt;/password-toggle&gt;

&lt;password-rules data-input-id=&#34;new-password&#34; data-rules=&#34;.{9}, [A-Z], .*\d&#34;&gt;
  &lt;ul&gt;
    &lt;li data-rule-index=&#34;0&#34;&gt;Longer than 8 characters&lt;/li&gt;
    &lt;li data-rule-index=&#34;1&#34;&gt;Includes an uppercase letter&lt;/li&gt;
    &lt;li data-rule-index=&#34;2&#34;&gt;Includes a number&lt;/li&gt;
  &lt;/ul&gt;
&lt;/password-rules&gt;
```

## Password toggle

`password-toggle` expects a `button` element to be inside it. This button will be augmented with the ability to toggle the visibility of the input field&#39;s value.

When the toggle button is clicked, the &#34;status&#34; element containing the [`aria-live`](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes/aria-live) attribute will send a notification to screen readers that the password value is currently visible or hidden. For instance, when clicking for the first time, the string &#34;Password is visible&#34; is inserted into the container and announced by a screen reader.

We can also style the toggle button when it enters its _pressed_ or &#34;visible password&#34; state. In the [CodePen demo](https://codepen.io/hexagoncircle/pen/LYKKjmj), this is how the eye icon (aye aye!) is being swapped.

```scss
button svg:last-of-type {
  display: none;
}

button[aria-pressed=&#34;true&#34;] {
  svg:first-of-type {
    display: none;
  }
  svg:last-of-type {
    display: block;
  }
}
```

Targeting the `[aria-pressed]` attribute selector ensures that our styles stay in sync with their accessibility counterpart. It also means that we don&#39;t need to manage a semantic attribute value as well as some generic class selector like &#34;is-active&#34;. Ben Myers shares great knowledge on this subject in [Style with stateful, semantic selectors](https://benmyers.dev/blog/semantic-selectors/). A must-have in the bookmarks üèÜ
{.callout}

## Password rules

The `password-rules` element is passed a comma-separated list of [regular expression](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_expressions) strings, each related to a specific rule. We also have the option to connect any child element to a rule by passing the index of that string to a `data-rule-index` attribute. The placement or type of element doesn&#39;t matter as long as it&#39;s contained within the `password-rules`.

Here&#39;s an alternate version to drive that point home:

```html
&lt;password-rules data-input-id=&#34;new-password&#34; data-rules=&#34;.{8}, [A-Z], .*\d&#34;&gt;
  &lt;div class=&#34;one-column&#34; data-rule-index=&#34;0&#34;&gt;
    Longer than 8 characters
  &lt;/div&gt;
  &lt;div class=&#34;two-columns&#34;&gt;
    &lt;span data-rule-index=&#34;2&#34;&gt;Includes a number&lt;/span&gt;
    &lt;span data-rule-index=&#34;1&#34;&gt;Includes an uppercase letter&lt;/span&gt;
  &lt;/div&gt;
&lt;/password-rules&gt;
```

### Check it off

When a rule is met that matches the `data-rule-index` value on an element, an `is-match` class gets added to the element. The [demo](https://codepen.io/hexagoncircle/pen/LYKKjmj) styles use this selector to add a checkmark emoji when present.

```scss
.password-rules__checklist .is-match::before {
  content: &#34;‚úÖ&#34;;
}
```

### score/total

The current password &#34;score&#34; and rules &#34;total&#34; are passed to the custom element as data attributes and CSS variables. The score value updates as rules are met. This allows us to do some fancy things like change the colors in a score meter and present the current tally. All of it done with CSS.

```scss
/** Incrementally adjust background colors */
password-rules[data-score=&#34;1&#34;] .password-rules__meter :first-child,
password-rules[data-score=&#34;2&#34;] .password-rules__meter :nth-child(-n + 2),
password-rules[data-score=&#34;3&#34;] .password-rules__meter :nth-child(-n + 3),
password-rules[data-score=&#34;4&#34;] .password-rules__meter :nth-child(-n + 4) {
  background-color: dodgerblue;
}

/** When all rules are met, swap to a new color for each meter element */
password-rules[data-score=&#34;5&#34;] .password-rules__meter :nth-child(-n + 5) {
  background-color: mediumseagreen;
}
```

CSS variables are passed into a [CSS `counter()`](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_counter_styles/Using_CSS_counters) to render the current score and total.

```scss
.password-rules__score::before {
  counter-reset: score var(--score, 0) total var(--total, 5);
  content: counter(score) &#34;/&#34; counter(total);
}
```

I added fallback values to the CSS variables when I realized that the `--total` value, specifically, renders as `0` on page load and doesn&#39;t update until we begin typing in the input field. I did discover that we could skip the fallback by registering the custom property. This ensures the total is correctly reflected when the component initializes. But, to be honest, this feels unnecessary when the fallback here will suffice.

```scss
@property --total {
  syntax: &#34;&lt;number&gt;&#34;;
  initial-value: 0;
  inherits: true;
}
```

If this @property stuff is unfamiliar, Stephanie Eckles has got you covered in [Providing Type Definitions for CSS with @property](https://moderncss.dev/providing-type-definitions-for-css-with-at-property/). Another one to bookmark! I&#39;ve also recently spent time with this newly supported at-rule in [CSS @property and the New Style](/blog/css-property-new-style/).
{.callout}


## Progressively enhanced for the win

I believe this tells a fairly nice progressive enhancement story. Without JavaScript, the password input still works as expected. But when these scripts run, users get additional feedback and interactivity. Developers get access to extra selectors that can be useful for styling state changes. And listen, I get it‚Äìthere are better ways to handle client-side form validation, but this was a fun exploration nonetheless.</content>
  </entry>
  <entry>
    <title>CSS @property and the New Style</title>
    <link href="https://incubator.to/blog/css-property-new-style"/>
    <updated>2024-09-02T00:00:00Z</updated>
    <id>https://incubator.to/blog/css-property-new-style</id>
    <content xml:lang="" type="html">

The [`@property`](https://developer.mozilla.org/en-US/docs/Web/CSS/@property) at-rule recently gained support across all modern browsers, unlocking the ability to explicitly define a syntax, initial value, and inheritance for CSS custom properties. It seems like forever ago that CSS Houdini and its [CSS Properties and Values API](https://developer.mozilla.org/en-US/docs/Web/API/CSS_Properties_and_Values_API) were initially introduced. I experimented sparingly over time, reading articles that danced around the concepts, but I had barely scratched the surface of what `@property` could offer. The ensuing demo explores what&#39;s possible in the next generation of CSS.

## Calls to action

Ever seen those sleek, attention-seeking, shiny call-to-action webpage elements? Waves of sites across the web, especially the ones marketing services and software urging for you to &#34;Upgrade your account&#34; or &#34;Sign up today,&#34; have discovered the look and latched on. I&#39;m not here to knock it and admittedly think it&#39;s kind of fresh. I thought I&#39;d give that style a try myself. Check out the result in the CodePen below.

{% codepen &#34;https://codepen.io/hexagoncircle/pen/MWMqXbK??editors=0100&#34;, 500 %}

There&#39;s a ton to unpack in this demo. Let&#39;s start with that shine looping around the button. Toggle open the demo&#39;s CSS panel to find a collection of `@property` rules related to those custom properties that need to animate. Here&#39;s the one defined for the `--gradient-angle`:

```scss
@property --gradient-angle {
  syntax: &#34;&lt;angle&gt;&#34;;
  initial-value: 0deg;
  inherits: false;
}
```

The `@property` rule communicates to the browser that [`&lt;angle&gt;`](https://developer.mozilla.org/en-US/docs/Web/CSS/angle) is the allowed syntax for this custom property and its initial value is `0deg`. This enables the browser to smoothly transition from `0deg` to `360deg` and output a rotating gradient.

```scss
@keyframes rotate-gradient {
  to { --gradient-angle: 360deg; }
}

.rotate-gradient {
  background: conic-gradient(from var(--gradient-angle), transparent, black);
  animation: rotate-gradient 10s linear infinite;
}
```

I put together a simple gradient spin demo to focus on the handful of lines necessary to render this concept.

{% codepen &#34;https://codepen.io/hexagoncircle/pen/eYwLqJx&#34;, 300, result, true %}

We can achieve the shiny animated border effect by evolving this code a bit. We&#39;ll introduce a `linear-gradient` as the first value of the element&#39;s `background` property and set a [`background-origin`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-origin) to each value.

- The origin of the `linear-gradient` is set to `padding-box`. This prevents the gradient from spilling into the border area.
- The `conic-gradient` origin is set to `border-box`. This gradient overflows into the space created by the border width.
- To reveal the rotating `conic-gradient`, a single-pixel transparent border is added.

```scss
.border-gradient {
  background: 
    linear-gradient(black, black) padding-box,
    conic-gradient(from var(--gradient-angle), transparent 25%, white, transparent 50%) border-box;
  border: 1px solid transparent;
}
```

In the CSS panel of the [simple gradient spin demo](#cp_embed_eYwLqJx), uncomment the `.border-gradient` ruleset to reveal the shiny animated border. Looking pretty slick! For more examples, I&#39;ve included a bunch of animated gradient border articles in the [resources section](#helpful-resources) at the end of the post.

## Silky smooth hover transitions

A few special ingredients help facilitate a buttery smooth gradient transition when the element is hovered. Let&#39;s dig into its `background` values:

```scss
.shiny-cta {
  background: 
    linear-gradient(var(--shiny-cta-bg), var(--shiny-cta-bg)) padding-box,
    conic-gradient(
        from calc(var(--gradient-angle) - var(--gradient-angle-offset)),
        transparent,
        var(--shiny-cta-highlight) var(--gradient-percent),
        var(--gradient-shine) calc(var(--gradient-percent) * 2),
        var(--shiny-cta-highlight) calc(var(--gradient-percent) * 3),
        transparent calc(var(--gradient-percent) * 4)
      )
      border-box;
}
```

Each custom property that needs to animate has a `syntax` declared in its `@property` definition so that the browser can interpolate between corresponding value changes and transition them seamlessly. The size of the shiny area is determined by the `--gradient-percent` value. On hover, a higher percentage lengthens the shine. The `--gradient-angle-offset` value is used to readjust the gradient angle so that the shine doesn&#39;t rubber band back and forth on hover.

{% video &#34;/videos/shiny-cta-angle-offset&#34;, &#34;Demonstrating the transition behavior without the angle offset value&#34; %}

I had to fine-tune the percent and offset values until the shine length and transition felt optically aligned. Finally, the `--gradient-shine` brightness gets toned down to blend more seamlessly with the adjacent highlight colors.

## Slow it on down

This [CSS tip to slow down a rotation on hover](https://css-tip.com/slow-down-rotation/) truly blew my mind. In the tip&#39;s example code, the same rotate animation is declared twice. The second one is reversed and paused, its duration divided in half. When the element is hovered, `animation-play-state: running` overrides the `paused` value and slows the rotation to half speed. The mind-blowing part, at least to me, is that the animation speeds back up at the current position when the element is no longer hovered. No snapping back to a start position, no extra wrapper elements necessary. That is one heck of a tip.

The [call-to-action animations](#cp_embed_MWMqXbK) rely on this method to slow them down when the button is hovered. This technique keeps all the rotations and movements in sync as they change speed.

## Tiny shiny dots

Looking even closer, we&#39;ll discover pinhole-sized dots shimmering inside the button as the shiny border passes near them. To render this dot pattern, a `radial-gradient` background is created.

```scss
.shiny-cta::before {
  --position: 2px;
  --space: calc(var(--position) * 2);
  background: radial-gradient(
      circle at var(--position) var(--position),
      white calc(var(--position) / 4),
      transparent 0
    )
    padding-box;
  background-size: var(--space) var(--space);
  background-repeat: space;
}
```

Remember that `--gradient-angle` custom property? It has returned! But this time, it&#39;s being used in a `conic-gradient` mask that reveals parts of the dot pattern as it rotates. The gradient angle is offset by 45 degrees to align it perfectly with the shiny border rotation.

```scss
.shiny-cta::before {
  mask-image: conic-gradient(
    from calc(var(--gradient-angle) + 45deg),
    black,
    transparent 10% 90%,
    black
  );
}
```

For one last touch of magic, a gradient containing the highlight color is added to the `::after` pseudo element, spinning in unison with the shine area. These highlights flowing through the button add a pleasant, welcoming ambience that was previously missing.

## Enhancing the hover colors

The hover styles looked decent. But they didn&#39;t seem totally finished. I felt the desire to enhance. Create more depth. [Make it pop, as they say](https://ryanmulligan.dev/blog/detect-js-support-in-css/#:~:text=%22Make%20it%20pop!%22).

The button&#39;s `::before` and `::after` pseudo elements were already in use so I wrapped the button text in a `span` element. A blurred `box-shadow` containing the highlight color is applied to one of its pseudo elements which is then expanded to fill the button dimensions. On hover, the pseudo element slowly scales up and down, evoking a vibe similar to relaxed breathing. Paired with the spinning highlight color inside the button, the effect finally resonated with me. This intricately designed call-to-action button felt complete.


## In with the new style

Many of the above techniques would have been nearly impossible only a short time ago. Explicitly defining custom properties unlocks a great big world of opportunity. I&#39;m especially eager to see how `@property` will be utilized in large-scale applications and design systems. [Providing Type Definitions for CSS with @property](https://moderncss.dev/providing-type-definitions-for-css-with-at-property/) by Stephanie Eckles as well as Adam Argyle&#39;s [Type safe CSS design systems with @property](https://nerdy.dev/cant-break-this-design-system) are just a couple glimpses into a really promising future for publishing our CSS.

## Helpful resources

- [Animated CSS gradient borders (no JavaScript, no hacks)](https://www.learnwithjason.dev/blog/animated-css-gradient-border/)
- [Creating an animated gradient border with CSS](https://ibelick.com/blog/create-animated-gradient-borders-with-css)
- [CSS border animations](https://web.dev/articles/css-border-animations)
- [Animating a CSS Gradient Border](https://www.bram.us/2021/01/29/animating-a-css-gradient-border/)
- [CSS border ripple effect](https://codepen.io/hexagoncircle/full/LYKJPjm)
- [The Times You Need A Custom @property Instead Of A CSS Variable](https://www.smashingmagazine.com/2024/05/times-need-custom-property-instead-css-variable/)
- [@property: Next-gen CSS variables now with universal browser support](https://web.dev/blog/at-property-baseline)</content>
  </entry>
  <entry>
    <title>Center Items in First Row with CSS Grid</title>
    <link href="https://incubator.to/blog/grid-stacks"/>
    <updated>2024-08-19T00:00:00Z</updated>
    <id>https://incubator.to/blog/grid-stacks</id>
    <content xml:lang="" type="html">

Imagine the following section on a website:

1. A collection of elements, like a series of cards with marketing information, are presented in a grid display.
2. The elements are arranged in rows of three.
3. When there are an odd number of elements left over, they will be center-aligned horizontally.

There are a few ways to accomplish styling such a layout. [Controlling Leftover Grid Items with Pseudo-selectors](https://css-irl.info/controlling-leftover-grid-items/) by Michelle Barker shares a clever CSS Grid solution. But here&#39;s a twist: What if the centered odd number of elements should appear in the _first_ row instead of the last?

I&#39;ve included a [CodePen demo](#demo) at the end of this article if you&#39;d like to jump ahead. Otherwise, continue on a journey of style discovery.

## Grid Stacks

Is it a trapezoid grid? Brick grid? Grid pyramid? Pyragrid? For the sake of this article, I ultimately picked a more generic name, calling it *Grid Stack*. Here&#39;s how we&#39;ll build a *Grid Stack* that contains five cards displayed in a three-column grid.

```scss
.grid-stack {
  display: grid;
  grid-template-columns: repeat(6, 1fr);

  &gt; * {
    grid-column-end: span 2;
  }

  &gt; :first-child {
    grid-column-start: 2;
  }
}
```

[CSS nesting](https://caniuse.com/?search=nesting) is being used here, which is newly supported across major browsers. Not feeling ready for that yet? We can move the nested rules into their own top-level rulesets. They just need to start with the parent selector name, i.e. `.grid-stack &gt; * { }`
{.callout}

The parent `grid-stack` container produces a template with six columns. Notice that the `grid-template-columns` repeat count is double the amount of columns we want visually present in each row. Each child element will then span across two columns instead of one. Finally, the first child element is aligned to the start of the second column. The result is a visually centered top row.

{% image &#34;./public/images/center-align-top-row-grid.png&#34;, &#34;A screenshot showcasing grid lines of a container element on a webpage. The Chrome dev tools panel is open, including the Layout panel which has options for customizing the grid lines.&#34; &#34;Grid lines (enabled in dev tools) help show where each child element is positioned on the grid.&#34; %}

## Variations

So far, the styles we&#39;ve created only apply when there are five cards positioned across three columns. We may want different variations depending on our designs. Three cards displayed in two columns? Seven cards in four? Let&#39;s tweak the above ruleset to utilize a CSS variable for the `grid-template-columns` repeat count. Recall that this value should be twice the amount of expected columns.

```scss
.grid-stack {
  display: grid;
  grid-template-columns: repeat(calc(var(--columns) * 2), 1fr);

  &gt; * {
    grid-column-end: span 2;
  }

  &gt; :first-child {
    grid-column-start: 2;
  }
}
```

The `--columns` value gets doubled as it passes through the CSS `calc()` function. Now we&#39;re able to define the preferred amount of columns directly on the parent container.

```html
&lt;div class=&#34;grid-stack&#34; style=&#34;--columns: 2&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;grid-stack&#34; style=&#34;--columns: 3&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;grid-stack&#34; style=&#34;--columns: 4&#34;&gt;&lt;/div&gt;
```

## Demo

{% codepen &#34;https://codepen.io/hexagoncircle/pen/gONvbNL&#34; %}

## Bonus! Pyramid stacks

In the above demo, you may have discovered some configurations for the *Grid Stack* that result in a pyramid-style stack. Maybe _now_ we can call it a pyragrid? Still not sure about that one... Anyway, to achieve this layout involves a few extra ingredients. We&#39;ll need to adjust the `grid-column-start` position of the first element in each row. Let&#39;s jump right to the last example with the `grid-stack-15` selector:

```scss
.grid-stack-15 {
  --columns: 5;

  &gt; :first-child {
    grid-column-start: 5;
  }

  &gt; :nth-child(2) {
    grid-column-start: 4;
  }

  &gt; :nth-child(4) {
    grid-column-start: 3;
  }

  &gt; :nth-child(7) {
    grid-column-start: 2;
  }
}
```

- This calls for a five-column grid visually, so it sets `--columns: 5`. Recall that this value gets doubled and outputs a template of ten columns.
- We&#39;ll nudge the first item in each row with `grid-column-start`. The top row element&#39;s start position is equal to the `--column` value. Subsequent rules will decrease this value by 1.

It&#39;s surely possible to develop a Sass or PostCSS function that could dynamically generate this CSS output but that seemed a bit overkill for the demo. As an added bonus, check out Temani Afif&#39;s [Stack Overflow answer](https://stackoverflow.com/a/67267124) that styles elements in a pyramid using `float` and `shape-outside`. Very cool!

## Limitations

Each layout variation expects a specific odd-number of child elements to be rendered. I have explored ways of automatically adjusting the layout based on the element count but there were too many edge cases to consider. It created more problems than it solved. Additionally, while these layouts work nicely on a wider viewport, it may not fare as well where less space is available. A `media` or `container` query ruleset can ensure our content adapts appropriately, but it certainly couldn&#39;t be a one-size-fits-all conditional set of styles.

## From the community

*Updated on September 5th* ‚Äî [Kevin Powell reached out on Mastodon](https://fosstodon.org/@kevinpowell@front-end.social/113085254739679608) and shared a [CodePen Example](https://codepen.io/kevinpowell/pen/abgQreW) that uses `:has(:nth-child():last-child)` to result in this layout. I certainly dig the approach! Keep in mind that the same aforementioned limitations still apply.</content>
  </entry>
  <entry>
    <title>Notes on handling events in Web Components</title>
    <link href="https://incubator.to/blog/handling-events-web-components"/>
    <updated>2024-07-27T00:00:00Z</updated>
    <id>https://incubator.to/blog/handling-events-web-components</id>
    <content xml:lang="" type="html">

My [`click-spark` web component](/blog/click-spark/) was a fun, silly project at best. Yet I&#39;ve seen it&#39;s had some love since being shared. So why not publish it as an [npm package](https://www.npmjs.com/package/click-spark)? No better time than the present, some say.

I had done a major refactor before publishing, the most notable was that the spark would now be contained to the custom element&#39;s parent node. After announcing the updates in a [Mastodon post](https://fosstodon.org/@hexagoncircle/112855152216537788), I soon received a [PR](https://github.com/hexagoncircle/click-spark/pull/7#discussion_r1693933865) with some quality feedback including a more advantageous way to handle the parent click event using the `handleEvent()` method.

## The click-spark click

Let&#39;s dive into a &#34;before and after&#34; for handling the click event on this component.

In both examples, notice that the parent node is being stored in a variable when `connectedCallback` runs. This ensures that the click event is properly removed from the parent since it&#39;s not available by the time `disconnectedCallback` is invoked as [FND&#39;s comment](https://github.com/hexagoncircle/click-spark/pull/7#discussion_r1693936577) explains.
{.callout}

In the &#34;before&#34; approach, the event handler is stored in a variable so that it&#39;s cleared from the parent node whenever the `click-spark` element is removed from the DOM.

```js
constructor() {
  this.clickEvent = this.handleClick.bind(this);
}

connectedCallback() {
  this._parent = this.parentNode;
  this._parent.addEventListener(&#34;click&#34;, this.clickEvent);
}

disconnectedCallback() {
  this._parent.removeEventListener(&#34;click&#34;, this.clickEvent);
  delete this._parent;
}

handleClick() {
  // Run code on click
}
```

Switching to `handleEvent()` removes the need to store the event handler. Passing `this` into the event listener will run the component&#39;s `handleEvent()` method every time we click.

```js
constructor() {
  // No longer need to store the callback
}

connectedCallback() {
  this._parent = this.parentNode;
  this._parent.addEventListener(&#34;click&#34;, this);
}

disconnectedCallback() {
  this._parent.removeEventListener(&#34;click&#34;, this);
  delete this._parent;
}

handleEvent(e) {
  // Run code on click
}
```

## Helpful resources

Chris Ferdinandi&#39;s article, [The handleEvent() method is the absolute best way to handle events in Web Components](https://gomakethings.com/the-handleevent-method-is-the-absolute-best-way-to-handle-events-in-web-components/) is an excellent read on why `handleEvent()` is a top choice for architecting event listeners in Web Components. He also shares insight from Andrea Giammarchi&#39;s [DOM handleEvent: a cross-platform standard since year 2000](https://webreflection.medium.com/dom-handleevent-a-cross-platform-standard-since-year-2000-5bf17287fd38) article which contains solid techniques for handling multiple event types.

Rather than me regurgitating, I recommend jumping into both of those articles to get a proper grasp on `handleEvent()`.

**Updated on July 29th, 2024** ‚Äî FND published [Garbage Collection for Event Listeners](https://prepitaph.org/articles/event-garbage/) about event listener cleanup after an element is removed from the DOM. The included demo is a nice touch. One interesting footnote that stood out to me: moving the element to a new location in the DOM will invoke `disconnectedCallback` before invoking `connectedCallback` again.
</content>
  </entry>
  <entry>
    <title>Penguin!</title>
    <link href="https://incubator.to/blog/penguin"/>
    <updated>2024-05-06T00:00:00Z</updated>
    <id>https://incubator.to/blog/penguin</id>
    <content xml:lang="" type="html">

My partner and I finally finished our epic three-part claymation saga. It&#39;s our first attempt at creating stop-motion videos with clay and it truly is _a lot_ of work for such a short result. [That claymation episode of Parks and Recreation](https://www.youtube.com/watch?v=LCUze7kuNas) is a little too real. I won&#39;t compare our movie to Avatar though.

Regardless, we had a blast doing it. Making art with our hands brings a different style of satisfaction. Anyway, I&#39;ll keep this post short and get to it. Enjoy!

https://www.youtube.com/watch?v=3mUdINzprdI</content>
  </entry>
  <entry>
    <title>Detect JavaScript Support in CSS</title>
    <link href="https://incubator.to/blog/detect-js-support-in-css"/>
    <updated>2024-04-20T00:00:00Z</updated>
    <id>https://incubator.to/blog/detect-js-support-in-css</id>
    <content xml:lang="" type="html">

I had been aware of the [`scripting` CSS media feature](https://developer.mozilla.org/en-US/docs/Web/CSS/@media/scripting) but I was still under the impression that cross-browser support was lacking. What a pleasant surprise to discover that it has been available in all modern browsers as of December 2023 according to [caniuse.com](https://caniuse.com/?search=scripting). With this feature, we can provide alternative CSS rules depending on whether or not JavaScript is available in the user&#39;s browser.  It can also help reduce flashes of unstyled content or undesirable layout shifts.

*Before we dive in:* As exciting as this feature is, I&#39;ve learned that there are a couple unfortunate gotchas. I&#39;ve amended the article with an [issues](#issues) section below.

## Usage

We can progressively enhance our styles:

```scss
@media (scripting: enabled) {
  .my-element {
    /* enhanced styles if JS is available */
  }
}
```

Or we can gracefully fall back to some alternate styles:

```scss
@media (scripting: none) {
  .my-element {
    /* fallback styles when JS is not supported */
  }
}
```

There&#39;s also an `initial-only` value, which is for scripting that is enabled during page load but not after. The [Media Queries Level 5 W3C Working Draft](https://www.w3.org/TR/mediaqueries-5/#scripting) includes a couple cases where it can be useful.

&gt; Examples are printed pages, or pre-rendering network proxies that render a page on a server and send a nearly-static version of the page to the user.

I don&#39;t personally imagine using `initial-only` much, if ever. Although, I&#39;d be interested to find more specific examples of it in practice.

## The time before the query

Before this feature, one approach for detecting JavaScript support was by setting a custom selector on the opening `html` tag‚Äîa common one seen in the wild is the `no-js` class name. If JavaScript is supported and enabled, it removes that selector just prior to rendering page content. When JavaScript is disabled, we can supply alternative styles that adapt to the experience.

```html
&lt;html class=&#34;no-js&#34;&gt;
  &lt;!-- page content --&gt;
&lt;/html&gt;
```

```scss
.no-js .my-element {
  /* styles when JS is disabled */
}
```

## Is this real life?

Imagine a new web campaign is on the cusp of going live and it&#39;s time to connect with all the key stakeholders. Everything looks great, most of the team satisfied with the result, but then suddenly some hip marketer in the meeting emphatically requests a complex intro animation on the hero component when the page loads. They gesture wildly as they ask for the main headline to fade in, shrink away as if it were being pulled back on a sling shot, and then... at this point they make an explosion noise with their mouth. &#34;Make it pop!&#34; they decree a mere 24 hours before launch.

Woof. Better get started.

To handle the complexity of this work, we might reach for an animation library such as [GSAP](https://gsap.com/). But what does the user see when JavaScript is not available, not to mention if a user&#39;s [`prefers reduced motion`](https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-reduced-motion) setting is enabled? We&#39;ll need to consider an alternate version of the hero without all that swooping and scaling.

This media query unlocks the ability to provide CSS rules that are a better fit to the user&#39;s experience. In the CodePen demo below, if we disable JavaScript, we&#39;ll find that the animation is skipped and the static headline is displayed.

{% codepen &#34;https://codepen.io/hexagoncircle/pen/NWmEMmJ/e1e382620c5897b4c72fa29b36227fd4&#34; %}

## Watch that flash

To really make the intro animation feel smooth on page load, the demo relies on the `scripting` media query to hide the headline with CSS. By doing so, we won&#39;t catch a flash of unstyled text before the GSAP animation is loaded. Also, we only want to hide the headline if JavaScript _is_ available, otherwise it would be hidden for users when it&#39;s disabled.

In the following video, watch what happens when the headline is not hidden on page load. The text flashing is even more glaring when throttling on a slower network.

{% video &#34;/videos/detect-js-support-in-css&#34;, &#34;In the video, the headline is no longer hidden on page load to share that pesky flash of unstyled text. When emulating slower network speeds, the issue becomes even more egregious.&#34; %}

## Combining queries

In the CSS tab of the demo, notice that the media queries are combined to check both scripting and reduced-motion conditions.

```scss
@media (scripting: enabled) and (prefers-reduced-motion: no-preference) {
  /* JS available and motion OK */
}

@media (scripting: none), (prefers-reduced-motion) {
  /* JS disabled or reduced motion enabled */
}
```

Each condition can surely have exclusive styles if the desired outcome calls for it, but it&#39;s nice that we can combine them where there&#39;s overlap in rulesets.

## Issues

**Updated on April 21st, 2024** - After publishing this post, some feedback surfaced explaining where this media feature unexpectedly fails.

1. It does not behave as anticipated when a browser extension such as NoScript or uBlock Origin is used to disable page scripts. `scripting: enabled` still matches even though the extension has JavaScript turned off.
2. If a script gets blocked or fails to load, a fallback would need to be handled via JavaScript. In the demo above, the fallback would need to tap into the demo&#39;s `scripting: none` media query ruleset so that the static version of the hero is displayed.

Tremendous thanks to [Sara](https://front-end.social/@SaraSoueidan/112307456267714875), [≈†ime](https://mastodon.social/@simevidas/112305703318360235), and [Vadim](https://mastodon.social/@pepelsbey/112308080752283580) for sharing!

## Helpful resources

- [CSS Media Query for Scripting Support](https://blog.stephaniestimac.com/posts/2023/12/css-media-query-scripting/)
- [New on the web: How to detect disabled JavaScript in CSS](https://www.stefanjudis.com/blog/how-to-detect-disabled-javascript-in-css/)
- [Day 106: the scripting media feature](https://www.matuzo.at/blog/2023/100daysof-day106)</content>
  </entry>
  <entry>
    <title>Someone Great</title>
    <link href="https://incubator.to/blog/someone-great"/>
    <updated>2024-03-13T00:00:00Z</updated>
    <id>https://incubator.to/blog/someone-great</id>
    <content xml:lang="" type="html">

Where to start? The grief is heavy and far too real. I barely slept last night. The brain fog is thick but finding the words and placing them here may provide some catharsis.

I lost someone great. Oscar was so much bigger than most folks will ever understand. His love, not just for my partner and I, but for all walks of life was unconditional. His level of patience and kindness is aspirational. I&#39;ve never met someone like him. I reflect fondly on the memories of him, some of my best years being filled with his presence every single day.

Oscar was an avid US traveler, bouncing back and forth between the coasts. He spent much of his life right outside NYC being a friend of the people. I often dubbed him the mayor of downtown Jersey City. Countless times when Oscar and I went out for a stroll together passersby would gush with joy, interacting with Oscar as if nobody else existed. He walked proud, eyes beaming, perpetually present in the moment.

It was also in Jersey City where my partner and I became great friends. It was where we fell in love. Oscar was integral to our story. We&#39;d trek all over the city with him, hanging around the local coffee shop, strolling along the waterfront, sprawling out in the grass of Liberty State Park. Our conversations were natural, meaningful, and incredibly deep. Oscar was there with us, always attentive, reacting with his calming stare and gentle grin. At the beginning of our relationship, his approval meant everything. Oscar made me feel accepted.

When the pandemic lockdowns started, Oscar insisted we get outdoors for socially-distanced walks, leading us around an exceptionally quiet city. Being with him helped maintain our sanity during such a difficult experience. We spent a majority of our time quarantined in a small studio apartment, but Oscar was there urging us to keep our cool, letting us know it was going to be alright. His warm aura would fill the room. We felt it. In that challenging time, we felt at peace. We felt joy.

When travel began to return, lockdown restrictions being lifted, we made a decision to spend our days on the opposite coast. Once we got there, Oscar needed no time to adjust. He immediately embraced his golden years, escaping the harsh Northeast winters and heavy springtime rain for the endless sunny beaches of southern California. It brought my partner and I so much delight seeing his excitement. The new sites, sounds, the smells‚Äîeverything was so fresh and welcome. We&#39;d head down to the beach where Oscar would stretch across the sand and soak up the sun. He would smile back at us. Everything felt right.

At home, Oscar would watch intently as we cooked meals. When the doorbell rang, he&#39;d jump up to greet guests with glee. I&#39;d play the acoustic guitar and Oscar would settle nearby to listen, often drifting off to sleep. He never said it, but I&#39;m pretty confident he enjoyed hearing me play. I tell myself that anyway.

Late at night, the three of us would snuggle up on the couch and watch television. Oscar was typically first to leave for bed. If it were getting too late, he&#39;d sometimes peek his head back into the room. His stare seemed to say, &#34;It&#39;s bedtime, you two, come along!&#34; Then he&#39;d stalk off as quickly as he appeared. In retrospect, he was probably right as we woke up groggy the next morning.

I&#39;d like to continue but I&#39;ve reached a breaking point emotionally. My eyes are starting to swell. There is so much wonder around Oscar, so many stories to share. He elevated the mood of anyone that met him. On a personal level, he made me feel important and loved in times I felt small or invisible. There was not and never will be anyone that matches his unique disposition. He was our emotional companion and a beautiful friend.

I love you, Oscar. You are forever missed.</content>
  </entry>
  <entry>
    <title>The Fifty-Fifty Split and Overflow</title>
    <link href="https://incubator.to/blog/50-50-overflow"/>
    <updated>2024-02-19T00:00:00Z</updated>
    <id>https://incubator.to/blog/50-50-overflow</id>
    <content xml:lang="" type="html">

The fifty-fifty split‚Äîor 50/50 for a dash of brevity‚Äîis a classic layout pattern where two elements occupy the same amount of inline space inside a row. These two elements will stack once it becomes too narrow to properly display them side by side. Both flexbox and CSS grid can accommodate this pattern.

I had recently shared a demo on CodePen built with this layout pattern, but the component in the demo contains an extra feature: The content of one section overflows and can be scrolled. Try it out by scrolling the section sandwiched between the &#34;header&#34; and &#34;footer&#34; elements.

{% codepen &#34;https://codepen.io/hexagoncircle/pen/PoLdzzo&#34; %}

Let&#39;s find out how it all works. We&#39;ll jump into flexbox and grid versions of the 50/50 layout as well as how to handle overflow scrolling.

## The flexbox 50/50

In the [50/50 flexbox layout demo](https://codepen.io/hexagoncircle/pen/YzgdVEp), the &lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/CSS/flex-basis&#34;&gt;`flex-basis`&lt;/a&gt; value represents how tight the section elements within the container can get before wrapping. `flex-grow: 1` insists these sections grow beyond their `flex-basis` value to equally fill the inline space. Once the container becomes too narrow, the two sections will stack.

```scss
.fifty-fifty {
  display: flex;
  flex-wrap: wrap;
}

.fifty-fifty &gt; * {
  flex-grow: 1;
  flex-basis: 250px;
}
```

In the CodePen demos, we&#39;ll find a `--min-inline-size` variable is utilized. I&#39;ve removed it from these article code blocks to keep them simple. The reason for having it? It acts as a configuration property for the `.fifty-fifty` selector. When necessary, we can set a custom value to it and override how tight the sections get before they stack. Otherwise, it&#39;ll use the fallback value.
{.callout}

## The grid 50/50

This same layout can be achieved with CSS grid as we&#39;ll discover in the [50/50 grid layout demo](https://codepen.io/hexagoncircle/pen/poYYoLX).

- A columns template is declared to represent the two sections.
- `auto-fit` expands the columns so that they evenly fill the parent container.
- A `minmax()` function provides the minimum width for when the sections should stack once the parent container becomes too narrow.

```scss
.fifty-fifty {
  display: grid;
  grid-template-columns: repeat(
    auto-fit,
    minmax(250px, 1fr)
  );
}
```

## Scrolling overflow content

Imagine a design requirement in which one of the sections within the 50/50 is scrollable. The intrinsic height of the non-scrolling side should instruct the overall height of the parent container. Problem is, we can&#39;t just declare a static height value because the content in the non-scrolling section could change. Maybe the text is translated by the user. Maybe the font size is increased for readability.

This seems tricky to pull off, but both the flexbox and grid patterns can accommodate such a feature. The code blocks below contain the essential HTML and CSS for the grid version. We can also get a look at how both versions work in this [CodePen demo](https://codepen.io/hexagoncircle/pen/qBvvdbg).

```html
&lt;article class=&#34;fifty-fifty&#34;&gt;
  &lt;section&gt;
    &lt;!-- this content controls overall height --&gt;
  &lt;/section&gt;
  &lt;section class=&#34;scroll-container&#34;&gt;
    &lt;!-- overflowing section content --&gt;
  &lt;/section&gt;
&lt;/article&gt;
```

```scss
.fifty-fifty {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  grid-auto-rows: 1fr;
}

.scroll-container {
  contain: size;
  overflow-y: auto;
}
```

My original take on this has been massively improved after some [feedback from Roma Komarov](https://front-end.social/@kizu/111959588855601850). I totally slept on the [`contain`](https://developer.mozilla.org/en-US/docs/Web/CSS/contain) property! After setting the `contain: size` rule, I can drop my previous iteration which had an additional nested element with absolute positioning applied. This simplifies both the template and styles. Thank you, Roma! üëè

Now, when the sections are side by side, the height of the `fifty-fifty` container is based on the size of the non-scrolling section.

### Visually collapsed when stacked

For either layout, it is important to apply a _minimum_ height on the scrollable section. Otherwise, when the sections stack, the scrolling section would disappear visually. Although, if we use CSS grid, we get an extra twist of magic: the `grid-auto-rows` property. Instead of setting a static &#34;magic number&#34; minimum height, `grid-auto-rows: 1fr` can be declared. What makes this an attractive alternative is that, whether stacked or split, the two sections are always the same size. In other words, the scrollable section height will consistently mirror the height of the non-scrolling section.

## Where it all started

The [CodePen demo](https://codepen.io/hexagoncircle/pen/PoLdzzo) introduced at the beginning of the article has its rules organized another way. Since there are distinct border styles applied depending on whether the sections are stacked or split, we&#39;ll find that a media query ruleset handles the layout breakpoint instead. When the browser viewport is larger than the `min-width` in the query, each section is explicitly set to `1fr` to distribute their inline sizes evenly. The code below focuses on those specifics.

```scss
.container {
  display: grid;
  grid-auto-rows: 1fr;
}

.details {
  border-block-start: var(--border);
}

@media (min-width: 40rem) {
  .container {
    grid-template-columns: 1fr 1fr;
  }

  .details {
    border-block-start: unset;
    border-inline-start: var(--border);
  }
}
```

If we desired more modular control than a media query can provide, we could consider using a [container query](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_containment/Container_queries) to manage these styles. A solid enhancement to add when it becomes necessary.

## Helpful resources

- [Fifty-Fifty Split CodePen collection](https://codepen.io/collection/NqoVpN)
- [Equal height and scrolling solutions on Stack Overflow](https://stackoverflow.com/questions/48943233/how-can-you-set-the-height-of-an-outer-div-to-always-be-equal-to-a-particular-in/48943583#48943583)
- [Using the CSS contain property: A deep dive](https://blog.logrocket.com/using-css-contain-property-deep-dive/)</content>
  </entry>
  <entry>
    <title>CSS Scroll-triggered Animations with Style Queries</title>
    <link href="https://incubator.to/blog/scroll-triggered-animations-style-queries"/>
    <updated>2024-01-27T00:00:00Z</updated>
    <id>https://incubator.to/blog/scroll-triggered-animations-style-queries</id>
    <content xml:lang="" type="html">

Topping my CSS wishlist in 2024 are [scroll-driven animations](https://developer.chrome.com/docs/css-ui/scroll-driven-animations) and [style queries](https://developer.chrome.com/docs/css-ui/style-queries). At the time of writing this post, both lack full support but I&#39;ve got fingers crossed they become available in all evergreen browsers not too long from now. I had done some [exploration of scroll-driven animations](/blog/scroll-driven-animations/) but have not yet spent much time with style queries beyond reading and daydreaming about the amazing possibilities they&#39;ll unlock.

## Discovery zone

I happened upon [a CodePen by Jhey Tompkins](https://codepen.io/jh3y/pen/qBgRLxb) that kicked off my curiosity. In that demo, as the page is scrolled, animations are triggered that smoothly highlight passages of text within the copy. It&#39;s all powered by CSS. That&#39;s incredible! I&#39;ve achieved this effect in past demos using [GSAP ScrollTrigger](https://codepen.io/hexagoncircle/pen/gOPMwvd) and the [Intersection Observer API](https://codepen.io/hexagoncircle/pen/OJMXZzB). How is this same concept accomplished with only CSS?

Diving into Jhey&#39;s code, we find a `--highlighted` custom property set to `0`. Using scroll-driven animations, the value is updated to `1` as the `mark` element reaches the end of its `animation-range`. That value is passed into a `calc()` function that transitions a `background-position` property to create the highlighting effect.

This scroll-driven animation mimics intersection observer functionality. In fact, if we inspect the JS panel in the CodePen editor, we&#39;ll find that Jhey provides an intersection observer fallback for browsers that don&#39;t support CSS view progress timelines.

## Scroll-driven animations and style queries join forces

That demo got me jazzed. What else might be possible with this bonafied CSS trick? Could we also trigger a `@keyframes` animation sequence? I&#39;ve tested and scrapped a handful of ideas, deciding that it may not be feasible in scroll-driven animations. At least not without a little help from a new friend.

Style queries give us the ability to supply styling based on the value of a parent CSS custom property. Ahmad Shadeed&#39;s [Style Queries](https://ishadeed.com/article/css-container-style-queries/) deep dive demonstrates this in a variety of ways. I ran with Jhey&#39;s view progress timeline approach, &#34;toggling&#34; a custom property value in a `@keyframes` ruleset, then added a style query that triggered an animation on a child element.

How about that‚Äîit works! üéâ Or rather, it works in browsers that support both style queries and scroll-driven animations. When unsupported, the demo falls back to displaying the text without the animations.

{% codepen &#34;https://codepen.io/hexagoncircle/pen/wvOPmGO&#34; %}

The magic is in the following CSS code. It has been stripped back from the demo CSS to focus on the trigger animation specifics.

```scss
.box {
  animation: trigger steps(1) both;
  animation-timeline: view();
  animation-range: entry 80% contain 40%;
}

@container style(--animate: true) {
  .text { 
    /* animate! */
  }
}

@keyframes trigger {
  to {
    --animate: true;
  }
}
```

Note that only the `animation-range` end value is relevant for the trigger. Declaring `animation-range-end: contain 40%` instead would also work here. However, the demo includes the start value to explicitly set where the `fade` animation starts on the same element.
{.callout}

Once the `.box` element reaches the end of the `animation-range`, the `trigger` animation runs instantly, sets `--animate: true` on the element, then kicks off the elastic popup and background gradient transition on its child `.text` element. If the page is scrolled back up, the text recedes back to its starting position.

## Additional thoughts

I find this fascinating. Modern CSS continues to deliver fresh delight. However, keep in mind that the CodePen demo works well here because the animated elements are hidden outside of the viewport on initial page load. We&#39;d see the text animate on load if it were visible on screen, which may not be ideal. There are a few ways to handle supressing animation playback on load using JavaScript but I&#39;d love to have this control through a CSS rule.

Another thought I had, which Bramus asks the reader in the intro of his [article about scroll-driven animations](https://www.bram.us/2023/10/05/run-a-scroll-driven-animation-only-once/):

&gt; [...] what if you want a scroll-driven animation to stay on its endframe once it was entirely played?

Play through one and done? Sounds like an excellent option. Unfortunately, this cannot be done in CSS but Bramus created a set of [scroll-driven animation utilities](https://github.com/bramus/sda-utilities) which includes a way to run a scroll-driven animation only once.

Have any feedback or other ideas? Come and [join the conversation](https://fosstodon.org/@hexagoncircle/111829670640360211) on Mastodon.

**Updated on January 29th, 2024**: Bramus shared with me his own [experiment with this concept](https://www.bram.us/2023/06/15/scroll-triggered-animations/) from last year. The article does an excellent job explaining how it works and I recommend checking it out. Our conclusions on this seem to be the same.

&gt; This was a fun experiment to do. However, it‚Äôs only an experiment and to me makes the case that we still need proper Scroll-Triggered Animations in the future ‚Äì maybe something to work on for `scroll-animations-2`? üòâ

Now there&#39;s a sequel I would be excited to see. üëÄ</content>
  </entry>
  <entry>
    <title>Using External Links as GitHub Issue Template Options</title>
    <link href="https://incubator.to/blog/external-links-issue-template-options"/>
    <updated>2024-01-18T00:00:00Z</updated>
    <id>https://incubator.to/blog/external-links-issue-template-options</id>
    <content xml:lang="" type="html">

I&#39;ve been down the road of [configuring custom issue templates](https://docs.github.com/en/communities/using-templates-to-encourage-useful-issues-and-pull-requests/configuring-issue-templates-for-your-repository) on GitHub repos before. It even seems like there have been some nice improvements to help make creating them even easier. Thanks for setting me up with a reasonable bug report template to start from so I don&#39;t have to build one from scratch. üêõ

However, teams may rely on a variety of other tools‚ÄîJira, Asana, Linear, an Excel spreadsheet (Kidding! But maybe?)‚Äîto manage a backlog of tasks. I&#39;d prefer teammates not add new issues on the repo only to then recreate those items in some other workflow. It would be great if folks could be guided to the right place and avoid double entry.

There is a solution for this! It&#39;s new to me, so in the spirit of &#34;today I learned&#34;, here&#39;s a quick tip for us to share.

## Creating custom config

We can [configure the template chooser](https://docs.github.com/en/communities/using-templates-to-encourage-useful-issues-and-pull-requests/configuring-issue-templates-for-your-repository#configuring-the-template-chooser) with external links and even lock down the ability to open new issues on the repo. To do this, we create a `config.yml` file in the repo&#39;s `.github/ISSUE_TEMPLATE` directory.

The `.github/ISSUE_TEMPLATE` directory may not exist yet if templates have not been configured for the repo. If it needs to be manually created, the path should start at the root of the project.
{.callout}

```yaml
blank_issues_enabled: false
contact_links:
  - name: üêõ Bug Report
    url: [link to create bug report]
    about: Please file a bug report in our team&#39;s app of choice.
  - name: üí° Feature Request
    url: [link to create feature request]
    about: Have some great ideas to improve our site or this codebase? Open a new feature request in our team&#39;s app of choice.
```

The screenshot below shows how these items will render on the &#34;issue chooser&#34; page. The config explicitly sets only the two options, both linking to their respective places where new tasks can be added to the team&#39;s backlog.

{% image &#34;./public/images/github-template-chooser-example.jpg&#34;, &#34;Screenshot of custom external options added to the GitHub issue selection interface.&#34; %}

The `blank_issues_enabled: false` line in the config code hides the &#34;open a blank issue&#34; hyperlink that normally appears below these custom options. Without this line, folks would still have the ability to add a new issue on the repo.

With all of this in order, the repo remains free of user-entered issues, reducing some friction and redundancy. As an aside: I&#39;m not 100% certain, but I&#39;d wager that automated bot issues would still appear in the repo&#39;s issue queue.
</content>
  </entry>
  <entry>
    <title>Click Spark</title>
    <link href="https://incubator.to/blog/click-spark"/>
    <updated>2024-01-02T00:00:00Z</updated>
    <id>https://incubator.to/blog/click-spark</id>
    <content xml:lang="" type="html">

Last week I had made this fun little experiment. When clicking or tapping on the page, sparks (of joy) fly out from the mouse cursor/tap position. It started with me just messing around a bit in CodePen, but after sharing and getting a few friendly nudges on [my Mastodon post](https://mastodon.social/@hexagoncircle@fosstodon.org/111659424760546483), this fun little experiment evolved into the `&lt;click-spark&gt;` Web Component which is now available in a [GitHub repo](https://github.com/hexagoncircle/click-spark).

Try it out in the CodePen demo below.

{% codepen &#34;https://codepen.io/hexagoncircle/pen/bGZdWyw&#34;, 350 %}

The spark color can be modified by setting a color value to the `--click-spark-color` custom property:

```html
&lt;click-spark style=&#34;--click-spark-color: hotpink&#34;&gt;&lt;/click-spark&gt;
```

**Updated on July 26th, 2024** ‚Äî The update below was a bit silly of me in retrospect. I&#39;m going to leave it for the sake of keeping a rich history. I&#39;ve pushed a _new_ release that will instead contain the click sparks to the parent element. I believe this is a much cleaner implementation than what I initially attempted. Check out [pull request #3](https://github.com/hexagoncircle/click-spark/pull/3) if you&#39;d like to dig into the details.

**Updated on January 5th, 2023** ‚Äî I had been thinking about a case where I&#39;d like to have click sparks, but only when clicking on particular elements. I&#39;ve updated the [code](https://github.com/hexagoncircle/click-spark) so that an `active-on` attribute can be set on the custom element to target a comma-separated list of selectors. If any of the selectors match, let the sparks fly. Here&#39;s a [CodePen demo](https://codepen.io/hexagoncircle/pen/rNReOPd) of the following example.

```html
&lt;click-spark active-on=&#34;.send-sparks, #i-love-sparks, [data-sparks]&#34;&gt;&lt;/click-spark&gt;
```

Have your sparks your way. ‚ú®


</content>
  </entry>
  <entry>
    <title>&lt;target-toggler&gt; Web Component</title>
    <link href="https://incubator.to/blog/target-toggler"/>
    <updated>2023-12-22T00:00:00Z</updated>
    <id>https://incubator.to/blog/target-toggler</id>
    <content xml:lang="" type="html">

There are very rare occasions that I want `&lt;details&gt;` element disclosure widget-style funtionality but would like to have the `&lt;summary&gt;` element detached or live outside of it&#39;s related `&lt;details&gt;` container. This commonly stems from designs that may, for example, expect a toggle button to appear inline with other controls or content. Here&#39;s my attempt at a Web Component to handle that pattern.

- [Source code](https://github.com/hexagoncircle/target-toggler)
- [Demo](https://hexagoncircle.github.io/target-toggler/demo.html)

The gist of this component is to enhance an HTML `&lt;button&gt;` with the ability to toggle an element&#39;s visibility anywhere on a page. Simply wrap a button element with this component and supply a `target-id` attribute that matches the `id` of any page element.

```html
&lt;script type=&#34;module&#34; src=&#34;target-toggler.js&#34;&gt;&lt;/script&gt;

&lt;target-toggler target-id=&#34;more-info&#34;&gt;
  &lt;button&gt;Show more info&lt;/button&gt;
&lt;/target-toggler&gt;

&lt;section&gt;A special announcement&lt;/section&gt;

&lt;section id=&#34;more-info&#34;&gt;
  &lt;!-- some additional information --&gt;
&lt;/section&gt;
```

In the above example, a `hidden` attribute will be added to the targeted `more-info` element. Now the button toggle can control the visibility of that piece of content. Want that content to be visible by default? Add a `target-visible` attribute.

```html
&lt;target-toggler target-id=&#34;more-info&#34; target-visible&gt;
  &lt;button&gt;Show more info&lt;/button&gt;
&lt;/target-toggler&gt;
```

Be sure to check out [the demo page](https://hexagoncircle.github.io/target-toggler/demo.html) for examples of this component in action.

## Improvements

Want to weigh in? [Add a new issue](https://github.com/hexagoncircle/target-toggler/issues/new) to the repo and share your ideas! I highly value any community feedback on how to improve this implementation.

## Helpful resources

- [Open UI: Invoker Buttons](https://open-ui.org/components/invokers.explainer/)
- [12 days of Web: Web Components](https://12daysofweb.dev/2023/web-components/)</content>
  </entry>
  <entry>
    <title>We can :has it all</title>
    <link href="https://incubator.to/blog/we-can-has-it-all"/>
    <updated>2023-12-19T00:00:00Z</updated>
    <id>https://incubator.to/blog/we-can-has-it-all</id>
    <content xml:lang="" type="html">

[The functional `:has()` CSS pseudo class](https://developer.mozilla.org/en-US/docs/Web/CSS/:has) is now shipping in all evergreen browsers! üéâ

With [the release of Firefox 121.0](https://www.mozilla.org/en-US/firefox/121.0/releasenotes/), I&#39;m excited to see that my semi-dusty `:has()` demos are finally realizing their full potential in Firefox. The amount of opportunity unlocked with this selector seems nearly infinite. It can simplify some of the more complex CSS selectors and hacks used in the past. It also opens the door to replacing JavaScript solutions that weren&#39;t yet possible to achieve with only CSS.

This post is merely a celebration of `:has()` browser support and shares a quick dive into some of my previous experiments. At the end of this article are [helpful resources](#helpful-resources) that do an amazing job explaining how the selector works and the unbelieveable power it gives us.

## Themes, layouts, and filters

This first demo showcases how `:has()` can be used to set a dark mode, change the layout, and toggle the visibility of elements. All of it can be achieved through a combination of the `:has()` and [`:checked`](https://developer.mozilla.org/en-US/docs/Web/CSS/:checked) selectors.

{% codepen &#34;https://codepen.io/hexagoncircle/full/KKBBXQO&#34; %}

To pull off this primitive filtering technique, each card has a `data-category` attribute. When a filter option is selected, only the cards with that particular category will remain visible. Check out the following HTML example:

```html
&lt;article class=&#34;card&#34; data-category=&#34;bakery&#34;&gt;
  &lt;!-- card contents --&gt;
&lt;/article&gt;
&lt;article class=&#34;card&#34; data-category=&#34;taquer√≠a&#34;&gt;
  &lt;!-- card contents --&gt;
&lt;/article&gt;
&lt;article class=&#34;card&#34; data-category=&#34;caf√©&#34;&gt;
  &lt;!-- card contents --&gt;
&lt;/article&gt;
```

If the `bakery` filter option is selected, then the second and third cards would be hidden. Here&#39;s the CSS that hides all non-bakery cards:

```scss
body:has([name=&#34;filter&#34;][value=&#34;bakery&#34;]:checked) .card:not([data-category=&#34;bakery&#34;]) {
  display: none;
}
```

`[name=&#34;filter&#34;]` can be omitted from the selector above given the current circumstances. As things get more complex, however, there could be value overlaps that cause unintended results. This explicitness does raise [specificity](https://developer.mozilla.org/en-US/docs/Web/CSS/Specificity), but it can be reduced by using a [`:where()`](https://developer.mozilla.org/en-US/docs/Web/CSS/:where) selector if preferred. Semi-related: [The truth about CSS selector performance](https://blogs.windows.com/msedgedev/2023/01/17/the-truth-about-css-selector-performance/) is a good read!
{.callout}

Using `:has()` to alter layout and filter collections of elements is incredibly powerful. Although, let&#39;s understand that there are important accessibility considerations to make here. Don&#39;t do something like this in production without ensuring all folks are enabled with a proper experience.

## Skate or theme!

In the next demo, the select dropdown acts as a progressive enhancement. The skateboard&#39;s theme will update based on the option selected. The following is a simplified example:

```scss
:root {
  --color: black;
}

body:has([value=&#34;lightning&#34;]:checked) {
  --color: yellow;
}

body:has([value=&#34;holiday&#34;]:checked) {
  --color: green;
}
```

{% codepen &#34;https://codepen.io/hexagoncircle/full/GRBJLwE&#34; %}

This project has always been one of my personal favorites. It brings me a fair amount of joy seeing it working fully in Firefox.


## Helpful resources

- [Level Up Your CSS Skills With The :has() Selector](https://www.smashingmagazine.com/2023/01/level-up-css-skills-has-selector/)
- [CSS :has Parent Selector](https://ishadeed.com/article/css-has-parent-selector/)
- [Using :has() as a CSS Parent Selector and much more](https://webkit.org/blog/13096/css-has-pseudo-class/)
- [Selecting previous siblings with CSS :has()](https://tobiasahlin.com/blog/previous-sibling-css-has/)
- [The CSS :has() selector is way more than a ‚ÄúParent Selector‚Äù](https://www.bram.us/2021/12/21/the-css-has-selector-is-way-more-than-a-parent-selector/)</content>
  </entry>
  <entry>
    <title>Site Rebuild, Here We Go!</title>
    <link href="https://incubator.to/blog/site-rebuild"/>
    <updated>2023-11-22T00:00:00Z</updated>
    <id>https://incubator.to/blog/site-rebuild</id>
    <content xml:lang="" type="html">

There are still a few bits to work out, but why wait any longer? The latest version of my site is here and it has been rebuilt from the ground up. I&#39;m feeling pretty good about it and invite you all to celebrate the magic with me! ‚ú®

## Inspiration

While playing Super Mario Wonder, I found myself intrigued by the title screen transitions before each level. The skewed text atop its grid background pattern looked sleek yet playful. I began tinkering with some ideas and eventually came up with the blog post heading style seen above. At that point, I decided it was time to go for a full site rebuild.

## Some more details

I plan to dive into some site features in future blog posts, but here&#39;s a quick list of all the exciting parts. Feel free to dig around [the site repo](https://github.com/hexagoncircle/ryan-mulligan-dev) as well.

- I rebuilt from scratch. I stuck with 11ty but this time leaned 100% into [WebC](https://www.11ty.dev/docs/languages/webc/) for templating.
- There are some pretty neat (to me!) web components to be discovered in this project. Both of the following were built to progressively enhance the experience.
  - The `&lt;scroll-pen&gt;` extends the homepage CodePen collection&#39;s keyboard interactions, adds video previews that can be disabled, introduces input range slider control, and the ability to toggle the skew.
  - The `&lt;theme-machine&gt;` is what you might guess: A total package for changing the site appearance and adjusting theme colors.
- The homepage includes a few dynamic stats about the latest site deployment date, what the weather was like during that time, and the latest track I had been jamming to on Spotify.
- I&#39;ve been messing around with [scroll-driven animations in CSS](/blog/scroll-driven-animations/) a lot and why not be a little extra? When using a supported browser on a wide enough viewport, notice that a progress timer appears on blog posts. The progress ring fills itself up as the page is scrolled.
- My [eleventy config](https://github.com/hexagoncircle/ryan-mulligan-dev/blob/main/eleventy.config.js) is feeling more organized than ever. It was very much inspired by Lene Saile&#39;s [Organizing the Eleventy config file](https://www.lenesaile.com/en/blog/organizing-the-eleventy-config-file/) article.

It&#39;s very early in the morning as I write this. I know I&#39;m forgetting so many of the finer details but I couldn&#39;t wait to launch. There is still much for me to clean up and tinker on, but the time feels right to go public. [Toot at me on Mastodon](https://fosstodon.org/@hexagoncircle) and tell me what you think!

...&#34;Toot at me&#34; may not be the best way to word that.</content>
  </entry>
</feed>