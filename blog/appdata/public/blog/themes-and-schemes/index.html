<html lang="en">
  <head>
    <meta charset="utf-8"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"></meta>
    <meta name="generator" content="VueGo"></meta>
    <title>Website Themes and Color Schemes</title>
    <meta name="description"></meta>
    <link rel="canonical"></link>
    <meta name="author" content="Tit Petric"></meta>
    <link rel="icon" href="/assets/favicon/favicon.ico" sizes="32x32"></link>
    <link rel="icon" href="/assets/favicon/favicon.svg" type="image/svg+xml"></link>
    <link rel="apple-touch-icon" href="/assets/favicon/apple-touch-icon.png"></link>
    <link rel="manifest" href="/assets/site.webmanifest"></link>
    <meta name="twitter:card" content="summary_large_image"></meta>
    <meta name="twitter:title"></meta>
    <meta name="twitter:description"></meta>
    <meta name="twitter:image"></meta>
    <meta name="og:title"></meta>
    <meta name="og:description"></meta>
    <meta property="og:image"></meta>
    <meta name="fediverse:creator" content="@hexagoncircle@fosstodon.org"></meta>
    <link href="https://github.com/hexagoncircle" rel="me"></link>
    <link href="https://twitter.com/hexagoncircle" rel="me"></link>
    <link href="https://fosstodon.org/@hexagoncircle" rel="me"></link>
    <link href="https://codepen.io/hexagoncircle" rel="me"></link>
    <link rel="webmention" href="https://webmention.io/ryanmulligan.dev/webmention"></link>
    <link rel="pingback" href="https://webmention.io/ryanmulligan.dev/xmlrpc"></link>
    <link rel="alternate" type="application/atom+xml" title="Ryan Mulligan"></link>
    <link rel="stylesheet" href="/assets/css/themes.css"></link>
    <link rel="stylesheet" href="/assets/css/styles.css"></link>
    <style></style>
  </head>
  <body>
    <script>
  (function () {
    let root = document.documentElement;
    let body = document.body;

    let appearance = localStorage.getItem("appearance");
    let theme = localStorage.getItem("theme");

    appearance && root.setAttribute("data-appearance", appearance);
    theme && body.setAttribute("data-theme", theme);
  })();
    </script>
    <header class="site-header">
      <nav class="cluster">
        <ul class="cluster" role="list">
          <li class="jump-to-content">
            <a href="#main" class="text-label">Jump to main content</a>
          </li>
          <li>
            <a href="/">Home</a>
          </li>
          <li>
            <a href="/blog/">Blog</a>
          </li>
          <li>
            <a href="/feed.xml">RSS</a>
          </li>
        </ul>
        <theme-machine class="theme-machine">
          <fieldset class="control-appearance">
            <legend class="visually-hidden">Select appearance</legend>
            <input id="appearance-system" type="radio" name="appearance" class="visually-hidden" value="system"></input>
            <label for="appearance-system">
              <span class="visually-hidden">System</span>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" width="24" height="24" fill="currentcolor"><rect width="256" height="256" fill="none"/><rect x="24" y="40" width="208" height="160" rx="24"/><path d="M160,216H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16Z"/></svg>            </label>
            <input id="appearance-light" type="radio" name="appearance" class="visually-hidden" value="light"></input>
            <label for="appearance-light">
              <span class="visually-hidden">Light</span>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" width="24" height="24" fill="currentcolor"><rect width="256" height="256" fill="none"/><path d="M120,40V16a8,8,0,0,1,16,0V40a8,8,0,0,1-16,0Zm8,24a64,64,0,1,0,64,64A64.07,64.07,0,0,0,128,64ZM58.34,69.66A8,8,0,0,0,69.66,58.34l-16-16A8,8,0,0,0,42.34,53.66Zm0,116.68-16,16a8,8,0,0,0,11.32,11.32l16-16a8,8,0,0,0-11.32-11.32ZM192,72a8,8,0,0,0,5.66-2.34l16-16a8,8,0,0,0-11.32-11.32l-16,16A8,8,0,0,0,192,72Zm5.66,114.34a8,8,0,0,0-11.32,11.32l16,16a8,8,0,0,0,11.32-11.32ZM48,128a8,8,0,0,0-8-8H16a8,8,0,0,0,0,16H40A8,8,0,0,0,48,128Zm80,80a8,8,0,0,0-8,8v24a8,8,0,0,0,16,0V216A8,8,0,0,0,128,208Zm112-88H216a8,8,0,0,0,0,16h24a8,8,0,0,0,0-16Z"/></svg>            </label>
            <input id="appearance-dark" type="radio" name="appearance" class="visually-hidden" value="dark"></input>
            <label for="appearance-dark">
              <span class="visually-hidden">Dark</span>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" width="24" height="24" fill="currentcolor"><rect width="256" height="256" fill="none"/><path d="M240,96a8,8,0,0,1-8,8H216v16a8,8,0,0,1-16,0V104H184a8,8,0,0,1,0-16h16V72a8,8,0,0,1,16,0V88h16A8,8,0,0,1,240,96ZM144,56h8v8a8,8,0,0,0,16,0V56h8a8,8,0,0,0,0-16h-8V32a8,8,0,0,0-16,0v8h-8a8,8,0,0,0,0,16Zm65.14,94.33A88.07,88.07,0,0,1,105.67,46.86a8,8,0,0,0-10.6-9.06A96,96,0,1,0,218.2,160.93a8,8,0,0,0-9.06-10.6Z"/></svg>            </label>
            <div class="highlighter"></div>
          </fieldset>
          <button class="theme-display-toggle" aria-expanded="false" aria-controls="theme-display">
            <span class="visually-hidden">Select theme</span>
<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"/>
  <path d="M49.67,186.24h0L40.48,207.3a5.74,5.74,0,0,0,1.2,6.36,8,8,0,0,0,8.86,1.67l20-8.74h0a32,32,0,0,0,32.06-8L141.25,160H52.3A32.07,32.07,0,0,0,49.67,186.24Z" fill="var(--color-theme-accent)" />
  <path d="M182.43,113.17l4.88,4.89a16,16,0,0,1,0,22.63l-9,9a8,8,0,0,1-11.31,0L106.34,89a8,8,0,0,1,0-11.31l9-9a16,16,0,0,1,22.63,0l4.89,4.88,25-25.1c10.79-10.79,28.37-11.45,39.44-1a28,28,0,0,1,.57,40.15Z" fill="none" stroke="var(--color-theme)" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/>
  <path d="M159.31,141.94l-56.68,56.69a32,32,0,0,1-32.06,8h0l-20,8.74a8,8,0,0,1-8.86-1.67h0a5.74,5.74,0,0,1-1.2-6.36l9.19-21.06h0a32,32,0,0,1,7.7-32.87l56.69-56.68" fill="none" stroke="var(--color-theme)" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/>
</svg>
          </button>
          <div id="theme-display" class="theme-display-wrapper" hidden="">
            <fieldset class="control-theme">
              <legend class="visually-hidden">Select theme</legend>
              <div class="options">
                <label for="theme-default" data-theme="default">
                  <span class="visually-hidden">default</span>
                  <input id="theme-default" type="radio" name="theme" value="default"></input>
                </label>
                <label for="theme-pink" data-theme="pink">
                  <span class="visually-hidden">pink</span>
                  <input id="theme-pink" type="radio" name="theme" value="pink"></input>
                </label>
                <label for="theme-blue" data-theme="blue">
                  <span class="visually-hidden">blue</span>
                  <input id="theme-blue" type="radio" name="theme" value="blue"></input>
                </label>
                <label for="theme-green" data-theme="green">
                  <span class="visually-hidden">green</span>
                  <input id="theme-green" type="radio" name="theme" value="green"></input>
                </label>
                <label for="theme-purple" data-theme="purple">
                  <span class="visually-hidden">purple</span>
                  <input id="theme-purple" type="radio" name="theme" value="purple"></input>
                </label>
                <label for="theme-slate" data-theme="slate">
                  <span class="visually-hidden">slate</span>
                  <input id="theme-slate" type="radio" name="theme" value="slate"></input>
                </label>
              </div>
            </fieldset>
          </div>
        </theme-machine>
        <script>
  class ThemeMachine extends HTMLElement {
    constructor() {
      super();
      this.themeToggle;
      this.themeDisplay;
    }

    connectedCallback() {
      this.setupControl("appearance", document.documentElement);
      this.setupControl("theme", document.body);

      this.themeToggle = this.querySelector(".theme-display-toggle");
      this.themeDisplay = this.querySelector(".theme-display-wrapper");

      this.handleClickOutside();
      this.themeToggle.addEventListener("click", this.handleThemeToggleClick.bind(this));
    }

    handleChange(e, prop, el) {
      const attr = `data-${prop}`;
      const value = e.target.value;

      if (!value) {
        localStorage.removeItem(prop);
        el.removeAttribute(attr);
        return;
      }

      localStorage.setItem(prop, value);
      el.setAttribute(attr, value);
    }

    handleThemeToggleClick() {
      let expanded = this.themeToggle.getAttribute("aria-expanded") === "true" || false;

      this.themeToggle.setAttribute("aria-expanded", !expanded);
      this.themeDisplay.toggleAttribute("hidden", expanded);
    }

    handleClickOutside() {
      document.addEventListener(
        "click",
        (e) => {
          if (!e.target.closest("theme-machine")) {
            this.themeToggle.setAttribute("aria-expanded", false);
            this.themeDisplay.toggleAttribute("hidden", true);
          }
        },
        false
      );
    }

    setupControl(prop, el) {
      const initialValue = localStorage.getItem(prop) || "";
      const collection = this.querySelectorAll(`[name='${prop}']`);

      for (let item of collection) {
        item.checked = item.value === initialValue;
        item.addEventListener("change", (e) => this.handleChange(e, prop, el));
      }
    }
  }

  if ("customElements" in window) {
    window.customElements.define("theme-machine", ThemeMachine);
  }
</script>
        <style>
.theme-machine {
  --_padding: 0.3em;
  --_radius: var(--radius-pill);
  --icon-size: 1.2em;
  position: relative;
  display: flex;
  isolation: isolate;
  /* Transition theme display */
}
@media (forced-colors: active) {
  .theme-machine {
    forced-color-adjust: none;
  }
}
.theme-machine .control-appearance {
  all: unset;
  position: relative;
  display: flex;
  gap: var(--_padding);
  background: var(--color-theme);
  padding: var(--_padding);
  border-radius: 360px;
  isolation: isolate;
  transform: translateZ ( 0 );
  inline-size: fit-content;
  z-index: 2;
}
.theme-machine .control-appearance label {
  display: grid;
  place-items: center;
  place-content: center;
  border-radius: 50%;
  padding: var(--_padding);
  color: var(--color-theme-offset);
  cursor: pointer;
}
.theme-machine .control-appearance input:checked + label {
  color: currentcolor;
}
.theme-machine .control-appearance input:checked:focus-visible + label {
  outline: var(--focus-outline);
  outline-offset: 2px;
}
.theme-machine .control-appearance .highlighter {
  content: "";
  position: absolute;
  top: var(--_padding);
  left: var(--_padding);
  aspect-ratio: 1;
  height: calc(100% - var(--_padding) * 2);
  background: var(--color-theme-accent);
  border-radius: 50%;
  pointer-events: none;
  z-index: -1;
  transition: translate 250ms cubic-bezier(0.65, 0, 0.35, 1);
}
.theme-machine .control-appearance input:focus-visible ~ .highlighter {
  transition: unset;
}
.theme-machine .theme-display-toggle {
  --_pull: 2rem;
  all: unset;
  position: relative;
  z-index: 1;
  display: grid;
  align-items: center;
  cursor: pointer;
  padding-block: calc(var(--_padding) * 2);
  border-radius: 0 var(--_radius) var(--_radius) 0;
  background-color: var(--color-theme-offset);
  margin-inline-start: calc(var(--_pull) * -1);
  padding-inline: calc(var(--_pull) + var(--_padding)) calc(var(--_padding) + 0.3rem);
}
.theme-machine .theme-display-toggle .icon {
  scale: 1.01;
  border-radius: var(--radius-round);
}
.theme-machine .theme-display-toggle:focus-visible .icon {
  outline: 2px solid var(--color-bg-accent);
  outline-offset: 2px;
}
.theme-machine .theme-display-wrapper {
  position: absolute;
  top: 0;
  right: 0;
  display: grid;
  align-items: start;
  inline-size: calc(100% - var(--_padding));
  block-size: 200%;
  mask-image: linear-gradient(transparent 25%, black 0);
  z-index: 0;
}
.theme-machine .control-theme {
  display: flex;
  gap: var(--space-3xs);
  padding: var(--space-xs);
  block-size: 50%;
  border-radius: var(--_radius);
  background-color: var(--color-theme-offset);
}
.theme-machine .control-theme::before {
  content: "";
  position: absolute;
  bottom: 50%;
  left: 0;
  inline-size: 100%;
  block-size: 100%;
  background-color: inherit;
  z-index: -1;
}
.theme-machine .control-theme .options {
  --_border-color: var(--color-theme-accent);
  display: flex;
  gap: var(--space-3xs);
  justify-content: space-between;
  inline-size: 100%;
}
.theme-machine .control-theme input {
  --_size: 0.95em;
  appearance: none;
  margin: 0;
  font: inherit;
  color: currentColor;
  width: var(--_size);
  height: var(--_size);
  border: 2px solid var(--color-theme);
  border-radius: var(--radius-round);
  background-color: var(--color-theme-offset);
  display: grid;
  place-content: center;
}
.theme-machine .control-theme input::before {
  --_size: 0.5em;
  content: "";
  width: var(--_size);
  height: var(--_size);
  border-radius: var(--radius-round);
  background-color: var(--color-theme);
  scale: 0;
}
.theme-machine .control-theme input:focus-visible {
  outline: 2px solid var(--color-theme-accent);
  outline-offset: 1px;
}
.theme-machine .control-theme input:checked::before {
  scale: 1;
  transition: 200ms scale cubic-bezier(0.34, 1.56, 0.64, 1);
}
.theme-machine .control-theme input:checked {
  background-color: transparent;
}
.theme-machine .theme-display-wrapper {
  --_transition: translate 300ms cubic-bezier(0.16, 1, 0.3, 1);
  translate: var(--_padding) var(--_padding);
  transition: var(--_transition);
}
.theme-machine .control-theme {
  translate: 0 calc(100% - var(--_padding));
  transition: var(--_transition);
}
.theme-machine .theme-display-wrapper[hidden] {
  translate: 0 0;
}
.theme-machine .theme-display-wrapper[hidden] .control-theme {
  translate: 0 0;
}
.theme-machine .theme-display-wrapper[hidden] input {
  display: none;
}
</style>
      </nav>
    </header>
    <style>
.site-header {
  position: relative;
  display: flex;
  justify-content: flex-end;
  padding-inline: var(--page-gutters);
  margin-block: var(--page-gutters) var(--space-xl);
  z-index: 1;
}
@media (max-width: 40rem) {
  .site-header {
    .site-header nav {
      --column-gap: clamp(var(--space-s), 5vw, var(--space-m));
      --row-gap: var(--space-s);
      --justify: space-between;
      inline-size: 100%;
    }
  }
}
.site-header nav {
  position: relative;
}
.site-header a {
  display: grid;
  place-items: center;
  place-content: center;
  color: currentcolor;
  text-decoration: none;
}
.site-header a:hover {
  color: var(--color-theme-offset);
}
.site-header .jump-to-content {
  position: absolute;
  top: -9999px;
  left: 0;
}
.site-header .jump-to-content:focus-within {
  top: 50%;
  translate: 0 -50%;
  z-index: 1;
}
.site-header .jump-to-content a {
  padding: var(--space-2xs) var(--space-s);
  background-color: var(--color-bg);
}
</style>
    <main id="main" class="breakout flow prose"><figure class="page-timer" aria-hidden="true">
  <svg class="timer" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentcolor" viewBox="0 0 256 256">
    <rect width="256" height="256" fill="none"></rect>
    <circle cx="128" cy="128" r="88" fill="var(--color-theme)"></circle>
    <circle cx="128" cy="128" r="88" fill="none" stroke="currentcolor" stroke-miterlimit="10" stroke-width="16"></circle>
    <line class="timer-hand" x1="128" y1="128" x2="167.6" y2="88.4" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
    <line class="timer-switch" x1="104" y1="8" x2="152" y2="8" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
  </svg>
</figure>
<style>
.page-timer {
  display: none;
}
</style>
<h1 class="title | skewer">
  Website Themes and Color Schemes
</h1>
<section class="info | cluster skewer">
  <div class="cluster pseudo-gradient">
<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentcolor" viewBox="0 0 256 256">
  <rect width="256" height="256" fill="none"></rect>
  <path d="M40,88H216V48a8,8,0,0,0-8-8H48a8,8,0,0,0-8,8Z" fill="var(--color-theme-accent)"></path>
  <rect x="40" y="40" width="176" height="176" rx="8" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></rect>
  <line x1="176" y1="24" x2="176" y2="56" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
  <line x1="80" y1="24" x2="80" y2="56" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
  <line x1="40" y1="88" x2="216" y2="88" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
</svg>    <span>
      Posted on       <strong>2022-02-01 00:00:00 +0000 UTC</strong>
    </span>
  </div>
  <div class="cluster pseudo-gradient">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="var(--color-text-accent)" viewBox="0 0 256 256">
  <rect width="256" height="256" fill="none"></rect>
  <circle cx="128" cy="128" r="88" fill="var(--color-theme)"></circle>
  <circle cx="128" cy="128" r="88" fill="none" stroke="var(--color-text-accent)" stroke-miterlimit="10" stroke-width="16"></circle>
  <line x1="128" y1="128" x2="167.6" y2="88.4" fill="none" stroke="var(--color-text-accent)" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
  <line x1="104" y1="8" x2="152" y2="8" fill="none" stroke="var(--color-text-accent)" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
</svg>    <span>
       Takes about       <strong>7 minutes</strong>
       to read     </span>
  </div>
</section>
<h2>Getting into the mode</h2>

<p>Before we begin, I&rsquo;d like to preface this article with the following resources that were helpful guides on my theming quest. They explain a lot of the intricacies of setting up dark mode and I recommend reading them before my own.</p>

<ul>
<li><a href="https://css-tricks.com/a-complete-guide-to-dark-mode-on-the-web/">A Complete Guide to Dark Mode on the Web</a></li>
<li><a href="https://css-irl.info/quick-and-easy-dark-mode-with-css-custom-properties/">Quick and Easy Dark Mode with CSS Custom Properties</a></li>
<li><a href="https://piccalil.li/tutorial/create-a-user-controlled-dark-or-light-mode/">Create a user controlled dark or light mode</a></li>
</ul>

<p>Read those already? Skimmed them a fair amount at least? Fantastic. Let&rsquo;s jump into the theming details for this website.</p>

<h2>Range of styles</h2>

<p>My first go-around with theme switching was handled with an HTML range input (dubbed <em>theme slider</em>). Each input value correlated to a CSS ruleset. Interacting with the theme slider did a couple things:</p>

<ol>
<li>Set a <code>data-theme</code> attribute on the <code>&lt;html&gt;</code> element.</li>
<li>Saved the theme value to the browser&rsquo;s local storage to be referenced on subsequent site visits.</li>
</ol>

<p>Each theme changed the site colors set in CSS custom properties. I&rsquo;ve simplified the code in these examples for the sake of brevity.</p>

<pre class="chroma language-css"><code><span style="color:#f92672">[</span><span style="color:#f92672">data-theme</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">]</span> {
  <span style="color:#75715e">/* dark theme */</span>
  --color-text: <span style="color:#66d9ef">papayawhip</span>;
  --color-bg: <span style="color:#66d9ef">midnightblue</span>;
}

<span style="color:#75715e">/* ...rulesets for themes 2 through 4... */</span>

<span style="color:#f92672">[</span><span style="color:#f92672">data-theme</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;5&#34;</span><span style="color:#f92672">]</span> {
  <span style="color:#75715e">/* light theme */</span>
  --color-text: <span style="color:#66d9ef">darkslategray</span>;
  --color-bg: <span style="color:#66d9ef">lightsalmon</span>;
}
</code></pre>

<dl>
<dt>The <code>min</code> and <code>max</code> attributes on the theme slider were set to 1 and 5 respectively, allowing five different themes. If the slider had not yet been moved, a theme was applied to the site based on color scheme preferences in a user&rsquo;s system settings. By default, color values were set to CSS custom properties. These values were then updated for dark mode within a <code>prefers-color-scheme</code> media query.</dt>
<dt>::: callout
Worth pointing out that it&rsquo;s totally possible to approach this the other way, starting with dark mode styles and overriding them with <code>light</code> or <code>no-preference</code> rulesets as Michelle explains in <a href="https://css-irl.info/quick-and-easy-dark-mode-with-css-custom-properties/">her article</a>.
:::</dt>
</dl>

<p>In the following example, you&rsquo;ll notice that the base default colors are the same values in <code>data-theme=&quot;5&quot;</code> and then get updated to match <code>data-theme=&quot;1&quot;</code> for the dark color scheme preference.</p>

<pre class="chroma language-css"><code>:<span style="color:#a6e22e">root</span> {
  <span style="color:#75715e">/* same values used in theme 5 */</span>
  --color-text: <span style="color:#66d9ef">darkslategray</span>;
  --color-bg: <span style="color:#66d9ef">lightsalmon</span>;
}

@<span style="color:#66d9ef">media</span> <span style="color:#f92672">(</span><span style="color:#f92672">prefers-color-scheme</span><span style="color:#f92672">:</span> <span style="color:#f92672">dark</span><span style="color:#f92672">)</span> {
  <span style="color:#75715e">/* same values used in theme 1 */</span>
  :<span style="color:#a6e22e">root</span> {
    --color-text: <span style="color:#66d9ef">papayawhip</span>;
    --color-bg: <span style="color:#66d9ef">midnightblue</span>;
  }
}
</code></pre>

<p>::: callout
For visual history, I shared my site refresh and demonstrated the original theme slider implementation in <a href="https://twitter.com/hexagoncircle/status/1338885523658555394?s=20&amp;t=WebRdkKmXfB5ntsYPFwNwA">this tweet</a>. <em>Small note:</em> this was tweeted before I decided to ditch the old domain in favor of the one you&rsquo;re on now.
:::</p>

<p>This first iteration felt limited. Preferred color scheme values were tied to specific themes (1 for dark, 5 for light/no-preference) and disconnected from the values sandwiched in between. It was a fine start but left me wondering about other ways to handle these preference settings.</p>

<h2>Decoupling scheme and theme</h2>

<p>When I first <a href="/blog/migrating-to-11ty">migrated over to 11ty</a> and added more pages to this site, the theme switcher was still only accessible on the homepage. While moving this component into a global layout, I was hit with some swell brain activity:</p>

<blockquote>
<p>Instead of relating light and dark mode settings to specific theme values on the slider, they could alter each theme as variants.</p>
</blockquote>

<p>ðŸ¤¯</p>

<p>Here&rsquo;s what I came up with. The theme slider works the same as before but now has a new neighbor: a color scheme toggle button. This button sets a light or dark version of the current theme. My selection of colors may be somewhat arbitrary and subjective, but I tried pairing palettes that complement one another.</p>

<p>{% codepen &ldquo;<a href="https://codepen.io/hexagoncircle/pen/zYPrjNd&quot;">https://codepen.io/hexagoncircle/pen/zYPrjNd&rdquo;</a>, &ldquo;css,result&rdquo;, &ldquo;300&rdquo; %}</p>

<dl>
<dt>What I like about this theming model is that it welcomes future variants based on other user preferences and system settings. For instance, introducing high and low contrast styles for each theme using the <code>prefers-contrast</code> media query.</dt>
<dt>::: callout
At the time of writing, <code>prefers-contrast</code> is still considered an experimental feature according to the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-contrast">MDN docs</a>. This behavior may possibly change in the future.
:::</dt>
</dl>

<h2>Redundant rulesets</h2>

<p>One minor issue is that the same set of styles need to be declared twice for an initial theme to handle dark mode as both a system setting and user-selected preference. Since I&rsquo;m using Sass, I&rsquo;ve abstracted the values into a mixin to avoid the repetition. Below is a reduced example; Review the SCSS tab in the CodePen above for the full code.</p>

<pre class="chroma language-scss"><code><span style="color:#66d9ef">@mixin</span><span style="color:#a6e22e"> color-scheme-dark</span> {
  <span style="color:#a6e22e">--color-text</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">papayawhip</span>;
  <span style="color:#a6e22e">--color-bg</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">midnightblue</span>;
}

<span style="color:#a6e22e">:</span><span style="color:#a6e22e">root</span> {
  <span style="color:#a6e22e">--color-text</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">darkslategray</span>;
  <span style="color:#a6e22e">--color-bg</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">lightsalmon</span>;

  <span style="color:#66d9ef">@media</span> (prefers-color-scheme<span style="color:#f92672">:</span> dark) {
    <span style="color:#66d9ef">&amp;</span><span style="color:#a6e22e">:</span><span style="color:#a6e22e">not</span><span style="color:#f92672">(</span><span style="color:#f92672">[</span><span style="color:#f92672">data-color-scheme</span><span style="color:#f92672">]</span><span style="color:#f92672">)</span> {
      <span style="color:#66d9ef">@include</span><span style="color:#a6e22e"> color-scheme-dark</span>;
    }
  }

  <span style="color:#66d9ef">&amp;</span><span style="color:#f92672">[</span><span style="color:#f92672">data-color-scheme</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dark</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">]</span> {
    <span style="color:#66d9ef">@include</span><span style="color:#a6e22e"> color-scheme-dark</span>;
  }
}
</code></pre>

<p>A hefty thanks to <a href="https://piccalil.li/tutorial/create-a-user-controlled-dark-or-light-mode/">Andy Bell&rsquo;s article</a> for its usage of the <code>:not</code> selector. This ensures that the system settings do not override the user-selected color scheme. It also helped reduce some of the redundant code.</p>

<h2>Keyboard combo control</h2>

<p>Keyboard navigation and interaction for these two elements works as one might suspect. The button toggles between dark and light mode. The range input updates the theme value. It&rsquo;s debatable that they are best left like that. However, I wanted to explore a version that combined these element interactions; A way to cycle through themes and toggle their light/dark variants as a single control.</p>

<ul>
<li><code>tabindex=&quot;-1&quot;</code> is set on the theme slider so it&rsquo;s no longer focusable in the keyboard tab sequence.</li>
<li>When the color scheme toggle button is focused, left and right arrow keys cycle through the theme slider values.</li>
<li>The space bar and enter key toggle light and dark mode.</li>
<li>Visually, the toggle button has a focus outline with a left/right arrow icon beside it.</li>
<li>A screen reader informs us that we can press the left and right arrow keys to change the theme in addition to our default button control.</li>
</ul>

<h2>Theme status</h2>

<p>One last feature is the usage of the status role, another gem from <a href="https://piccalil.li/tutorial/create-a-user-controlled-dark-or-light-mode/">Andy&rsquo;s article</a>. An HTML element with a <code>role=&quot;status&quot;</code> attribute is grouped next to each control. Although visually hidden, when the content inside these containers changes, assistive technology will relay that update back to us.</p>

<ul>
<li>Clicking the color scheme toggle button announces the change to light or dark mode.</li>
<li>Changing the value in the theme slider announces the new theme being displayed.</li>
</ul>

<p>Something I enjoy about the latter bullet point is that it reveals the actual theme names which are based on ice cream flavors. Without inspecting code, it&rsquo;s currently the only path to this discovery. What&rsquo;s cooler than being cool? Ice cream.</p>

<h2>Ending theme</h2>

<p>Thanks for joining while I recounted the tale of my website&rsquo;s first theming trial and its follow-up adventure. Some of the patterns here may change over time but this has been a blast putting together. I&rsquo;m no champion of color, but I think these are some good lookin&rsquo; themes.</p>

<p>If you have your own unique implementation or favorites out there on the wild web, <a href="https://twitter.com/hexagoncircle/status/1488589211577946114?s=20&amp;t=EldD8DIkTHYUdsKTsxJslQ">please share</a>! Max BÃ¶ck and Josh Comeau have beautiful theme switchers and wrote detailed articles about their journeys. Definitely worth the read:</p>

<ul>
<li><a href="https://mxb.dev/blog/color-theme-switcher/">Color Theme Switcher</a></li>
<li><a href="https://www.joshwcomeau.com/react/dark-mode/">The Quest for the Perfect Dark Mode</a></li>
</ul>
<p class="cta arrow-start" style="--flow-space: var(--space-l)">
  <a href="/blog/">Back to all blog posts</a>
</p>
<style>
  :is(.post-timer, .title) {
    --flow-space: 0;
    grid-row: 2;
  }

  .title {
    margin-block-end: 8vh;
  }

  .info {
    order: -1;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem 1.5rem;
    margin-inline-start: 0.5rem;
    margin-block: 0 1em;
  }

  .info > * {
    align-items: center;
    display: flex;
    gap: 0.2rem;
    line-height: 1.2;
    font-size: 0.8em;
    padding: 0.1rem var(--space-2xs) 0.1rem 0;
  }

  .info svg {
    --_size: 1.75em;
    flex-shrink: 0;
    margin-inline-start: calc(var(--_size) / -2);
    width: var(--_size);
    height: var(--_size);
  }
</style></main>
    <footer class="breakout site-footer">
      <p class="copyright">
        
    Â©         <strong>Ryan Mulligan</strong>
         from day one to this magic moment in
            <span></span>
      </p>
      <p>
        
    Assembled with a boundless affinity for the web
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentcolor" viewBox="0 0 256 256">
  <path d="M240,94c0,70-103.79,126.66-108.21,129a8,8,0,0,1-7.58,0C119.79,220.66,16,164,16,94A62.07,62.07,0,0,1,78,32c20.65,0,38.73,8.88,50,23.89C139.27,40.88,157.35,32,178,32A62.07,62.07,0,0,1,240,94Z"></path>
</svg>      </p>
      <ul class="cluster" style="--gap: var(--space-2xs)" role="list">
        <li>
          <a href="/">Home</a>
        </li>
        <li>
          <a href="/blog/">Blog</a>
        </li>
        <li>
          <a href="/feed.xml">RSS</a>
        </li>
        <li>
          <a href="/blogroll/">Blogroll</a>
        </li>
        <li>
          <a href="https://github.com/hexagoncircle/ryan-mulligan-dev/issues/new" target="_blank">Report an issue</a>
        </li>
      </ul>
    </footer>
    <style>
.site-footer {
  position: sticky;
  top: 100vh;
  padding-block: var(--space-2xl);
  font-size: 0.75em;
}
.site-footer p {
  text-wrap: balance;
}
.site-footer .copyright {
  margin-inline-start: -0.1em;
}
.site-footer .icon {
  --_size: 1.2em;
  position: relative;
  top: 0.2em;
  margin-inline: 0.1em;
  width: var(--_size);
  height: var(--_size);
  color: red;
}
.site-footer li {
  display: flex;
  align-items: center;
  gap: 0.2em;
}
</style>
    <script></script>
    <script async="" defer="" src="https://scripts.withcabin.com/hello.js"></script>
  </body>
</html>
